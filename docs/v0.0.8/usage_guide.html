

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Description &mdash; EDA Toolkit 0.0.8 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=ef32455e" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=ef32455e" />
      <link rel="stylesheet" type="text/css" href="_static/custom.js?v=fecc5f50" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=53b53b71"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=a0ccc04e"></script>
      <script src="_static/custom.js?v=fecc5f50"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Acknowledgements" href="acknowledgements.html" />
    <link rel="prev" title="Welcome to the EDA Toolkit Python Library Documentation!" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            EDA Toolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Welcome to the EDA Toolkit Python Library Documentation!</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Usage Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="#data-preparation-and-management">Data Preparation and Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#path-directories">Path directories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ensure_directory"><code class="docutils literal notranslate"><span class="pre">ensure_directory()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-unique-identifiers">Adding Unique Identifiers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#add_ids"><code class="docutils literal notranslate"><span class="pre">add_ids()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#trailing-period-removal">Trailing Period Removal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#strip_trailing_period"><code class="docutils literal notranslate"><span class="pre">strip_trailing_period()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#standardized-dates">Standardized Dates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parse_date_with_rule"><code class="docutils literal notranslate"><span class="pre">parse_date_with_rule()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dataframe-analysis">DataFrame Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dataframe_columns"><code class="docutils literal notranslate"><span class="pre">dataframe_columns()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generating-summary-tables-for-variable-combinations">Generating Summary Tables for Variable Combinations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summarize_all_combinations"><code class="docutils literal notranslate"><span class="pre">summarize_all_combinations()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#saving-dataframes-to-excel-with-customized-formatting">Saving DataFrames to Excel with Customized Formatting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#save_dataframes_to_excel"><code class="docutils literal notranslate"><span class="pre">save_dataframes_to_excel()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#creating-contingency-tables">Creating Contingency Tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#contingency_table"><code class="docutils literal notranslate"><span class="pre">contingency_table()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#highlighting-specific-columns-in-a-dataframe">Highlighting Specific Columns in a DataFrame</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#highlight_columns"><code class="docutils literal notranslate"><span class="pre">highlight_columns()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#binning-numerical-columns">Binning Numerical Columns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#kde-and-histogram-distribution-plots">KDE and Histogram Distribution Plots</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#gaussian-assumption-for-normality">Gaussian Assumption for Normality</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#histograms-and-kde">Histograms and KDE</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#kde-distribution-function">KDE Distribution Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kde_distributions"><code class="docutils literal notranslate"><span class="pre">kde_distributions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#kde-and-histograms-example">KDE and Histograms Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#histogram-example-density">Histogram Example (Density)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#histogram-example-count">Histogram Example (Count)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#stacked-crosstab-plots">Stacked Crosstab Plots</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#stacked_crosstab_plot"><code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#stacked-bar-plots-with-crosstabs-example">Stacked Bar Plots With Crosstabs Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pivoted-stacked-bar-plots-example">Pivoted Stacked Bar Plots Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#non-normalized-stacked-bar-plots-example">Non-Normalized Stacked Bar Plots Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#regular-non-stacked-bar-plots-example">Regular Non-Stacked Bar Plots Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#box-and-violin-plots">Box and Violin Plots</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#box_violin_plot"><code class="docutils literal notranslate"><span class="pre">box_violin_plot()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#box-plots-grid-example">Box Plots Grid Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#violin-plots-grid-example">Violin Plots Grid Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pivoted-violin-plots-grid-example">Pivoted Violin Plots Grid Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#scatter-plots-and-best-fit-lines">Scatter Plots and Best Fit Lines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pearson-correlation-coefficient">Pearson Correlation Coefficient</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scatter-fit-plot">Scatter Fit Plot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scatter_fit_plot"><code class="docutils literal notranslate"><span class="pre">scatter_fit_plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#regression-centric-scatter-plots-example">Regression-Centric Scatter Plots Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scatter-plots-grouped-by-category-example">Scatter Plots Grouped by Category Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#correlation-matrices">Correlation Matrices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#flex_corr_matrix"><code class="docutils literal notranslate"><span class="pre">flex_corr_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#triangular-correlation-matrix-example">Triangular Correlation Matrix Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#full-correlation-matrix-example">Full Correlation Matrix Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#partial-dependence-plots">Partial Dependence Plots</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#theoretical-foundation-of-pdps">Theoretical Foundation of PDPs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#d-partial-dependence-plots">2D Partial Dependence Plots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#plot_2d_pdp"><code class="docutils literal notranslate"><span class="pre">plot_2d_pdp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#d-plots-ca-housing-example">2D Plots - CA Housing Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id21">3D Partial Dependence Plots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#plot_3d_pdp"><code class="docutils literal notranslate"><span class="pre">plot_3d_pdp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">3D Plots - CA Housing Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#static-plot">Static Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interactive-plot">Interactive Plot</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About EDA Toolkit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors/Maintainers</a></li>
<li class="toctree-l1"><a class="reference internal" href="citations.html">Citing EDA Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EDA Toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Description</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="no-click"><a class="reference internal image-reference" href="_images/eda_toolkit_logo.svg"><img alt="EDA Toolkit Logo" class="align-left" src="_images/eda_toolkit_logo.svg" style="width: 300px;" />
</a>
</div><div style="height: 100px;"></div><section id="description">
<h1>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h1>
<p>This guide provides detailed instructions and examples for using the functions
provided in the <code class="docutils literal notranslate"><span class="pre">eda_toolkit</span></code> library and how to use them effectively in your projects.</p>
<p>For most of the ensuing examples, we will leverage the Census Income Data (1994) from
the UCI Machine Learning Repository <a class="footnote-reference brackets" href="#id23" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. This dataset provides a rich source of
information for demonstrating the functionalities of the <code class="docutils literal notranslate"><span class="pre">eda_toolkit</span></code>.</p>
</section>
<section id="data-preparation-and-management">
<h1>Data Preparation and Management<a class="headerlink" href="#data-preparation-and-management" title="Link to this heading"></a></h1>
<section id="path-directories">
<h2>Path directories<a class="headerlink" href="#path-directories" title="Link to this heading"></a></h2>
<p><strong>Ensure that the directory exists. If not, create it.</strong></p>
<dl class="py function">
<dt class="sig sig-object py" id="ensure_directory">
<span class="sig-name descname"><span class="pre">ensure_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ensure_directory" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to the directory that needs to be ensured.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<p>The <code class="docutils literal notranslate"><span class="pre">ensure_directory</span></code> function is a utility designed to facilitate the
management of directory paths within your project. When working with data
science projects, it is common to save and load data, images, and other
artifacts from specific directories. This function helps in making sure that
these directories exist before any read/write operations are performed. If
the specified directory does not exist, the function creates it. If it
already exists, it does nothing, thus preventing any errors related to
missing directories.</p>
<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">ensure_directory</span></code> function
to verify and create directories as needed. This example sets up paths for data and
image directories, ensuring they exist before performing any operations that depend on them.</p>
<p>First, we define the base path as the parent directory of the current directory.
The <code class="docutils literal notranslate"><span class="pre">os.pardir</span></code> constant, equivalent to <code class="docutils literal notranslate"><span class="pre">&quot;..&quot;&quot;</span></code>, is used to navigate up one
directory level. Then, we define paths for the data directory and data output
directory, both located one level up from the current directory.</p>
<p>Next, we set paths for the PNG and SVG image directories, located within an
<code class="docutils literal notranslate"><span class="pre">images</span></code> folder in the parent directory. Using the <code class="docutils literal notranslate"><span class="pre">ensure_directory</span></code>
function, we then verify that these directories exist. If any of the specified
directories do not exist, the function creates them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">ensure_directory</span>

<span class="kn">import</span> <span class="nn">os</span> <span class="c1"># import operating system for dir</span>


<span class="n">base_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">)</span>

<span class="c1"># Go up one level from &#39;notebooks&#39; to parent directory,</span>
<span class="c1"># then into the &#39;data&#39; folder</span>
<span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">data_output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">,</span> <span class="s2">&quot;data_output&quot;</span><span class="p">)</span>

<span class="c1"># create image paths</span>
<span class="n">image_path_png</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;png_images&quot;</span><span class="p">)</span>
<span class="n">image_path_svg</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_path</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;svg_images&quot;</span><span class="p">)</span>

<span class="c1"># Use the function to ensure&#39;data&#39; directory exists</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">data_path</span><span class="p">)</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">data_output</span><span class="p">)</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">image_path_png</span><span class="p">)</span>
<span class="n">ensure_directory</span><span class="p">(</span><span class="n">image_path_svg</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span>
<span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">data_output</span>
<span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">images</span><span class="o">/</span><span class="n">png_images</span>
<span class="n">Created</span> <span class="n">directory</span><span class="p">:</span> <span class="o">../</span><span class="n">images</span><span class="o">/</span><span class="n">svg_images</span>
</pre></div>
</div>
</section>
<section id="adding-unique-identifiers">
<h2>Adding Unique Identifiers<a class="headerlink" href="#adding-unique-identifiers" title="Link to this heading"></a></h2>
<p><strong>Add a column of unique IDs with a specified number of digits to the dataframe.</strong></p>
<dl class="py function">
<dt class="sig sig-object py" id="add_ids">
<span class="sig-name descname"><span class="pre">add_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_colname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_digits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_as_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#add_ids" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The dataframe to add IDs to.</p></li>
<li><p><strong>id_colname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the new column for the IDs.</p></li>
<li><p><strong>num_digits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of digits for the unique IDs.</p></li>
<li><p><strong>seed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The seed for the random number generator. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>set_as_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to set the new ID column as the index. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated dataframe with the new ID column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<p>The <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function is used to append a column of unique identifiers with a
specified number of digits to a given dataframe. This is particularly useful for
creating unique patient or record IDs in datasets. The function allows you to
specify a custom column name for the IDs, the number of digits for each ID, and
optionally set a seed for the random number generator to ensure reproducibility.
Additionally, you can choose whether to set the new ID column as the index of the dataframe.</p>
<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function to add a
column of unique IDs to a dataframe. We start by importing the necessary libraries
and creating a sample dataframe. We then use the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function to generate
and append a column of unique IDs with a specified number of digits to the dataframe.</p>
<p>First, we import the pandas library and the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function from the <code class="docutils literal notranslate"><span class="pre">eda_toolkit</span></code>.
Then, we create a sample dataframe with some data. We call the <code class="docutils literal notranslate"><span class="pre">add_ids</span></code> function,
specifying the dataframe, the column name for the IDs, the number of digits for
each ID, a seed for reproducibility, and whether to set the new ID column as the
index. The function generates unique IDs for each row and adds them as the first
column in the dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">add_ids</span>

<span class="c1"># Add a column of unique IDs with 9 digits and call it &quot;census_id&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">add_ids</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">id_colname</span><span class="o">=</span><span class="s2">&quot;census_id&quot;</span><span class="p">,</span>
    <span class="n">num_digits</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="mi">111</span><span class="p">,</span>
    <span class="n">set_as_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p><cite>First 5 Rows of Census Income Data (Adapted from Kohavi, 1996, UCI Machine Learning Repository)</cite> <a class="footnote-reference brackets" href="#id23" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>DataFrame<span class="w"> </span>index<span class="w"> </span>is<span class="w"> </span>unique.
</pre></div>
</div>
<style type="text/css">
.tg-wrap {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:monospace, sans-serif;font-size:11px;
  overflow:hidden;padding:0px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:monospace, sans-serif;font-size:11px;
  font-weight:normal;overflow:hidden;padding:0px 5px;word-break:normal;}
.tg .tg-zv4m{border-color:#ffffff;text-align:left;vertical-align:top}
.tg .tg-8jgo{border-color:#ffffff;text-align:center;vertical-align:top}
.tg .tg-aw21{border-color:#ffffff;font-weight:bold;text-align:center;vertical-align:top}
</style>
<div class="tg-wrap">
<table class="tg">
  <thead>
    <tr>
      <th class="tg-zv4m"></th>
      <th class="tg-aw21">age</th>
      <th class="tg-aw21">workclass</th>
      <th class="tg-aw21">fnlwgt</th>
      <th class="tg-aw21">education</th>
      <th class="tg-aw21">education-num</th>
      <th class="tg-aw21">marital-status</th>
      <th class="tg-aw21">occupation</th>
      <th class="tg-aw21">relationship</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="tg-aw21">census_id</td>
      <td class="tg-8jgo"></td>
      <td class="tg-8jgo"></td>
      <td class="tg-8jgo"></td>
      <td class="tg-8jgo"></td>
      <td class="tg-8jgo"></td>
      <td class="tg-8jgo"></td>
      <td class="tg-8jgo"></td>
      <td class="tg-8jgo"></td>
    </tr>
    <tr>
      <td class="tg-zv4m">74130842</td>
      <td class="tg-8jgo">39</td>
      <td class="tg-8jgo">State-gov</td>
      <td class="tg-8jgo">77516</td>
      <td class="tg-8jgo">Bachelors</td>
      <td class="tg-8jgo">13</td>
      <td class="tg-8jgo">Never-married</td>
      <td class="tg-8jgo">Adm-clerical</td>
      <td class="tg-8jgo">Not-in-family</td>
    </tr>
    <tr>
      <td class="tg-zv4m">97751875</td>
      <td class="tg-8jgo">50</td>
      <td class="tg-8jgo">Self-emp-not-inc</td>
      <td class="tg-8jgo">83311</td>
      <td class="tg-8jgo">Bachelors</td>
      <td class="tg-8jgo">13</td>
      <td class="tg-8jgo">Married-civ-spouse</td>
      <td class="tg-8jgo">Exec-managerial</td>
      <td class="tg-8jgo">Husband</td>
    </tr>
    <tr>
      <td class="tg-zv4m">12202842</td>
      <td class="tg-8jgo">38</td>
      <td class="tg-8jgo">Private</td>
      <td class="tg-8jgo">215646</td>
      <td class="tg-8jgo">HS-grad</td>
      <td class="tg-8jgo">9</td>
      <td class="tg-8jgo">Divorced</td>
      <td class="tg-8jgo">Handlers-cleaners</td>
      <td class="tg-8jgo">Not-in-family</td>
    </tr>
    <tr>
      <td class="tg-zv4m">96078789</td>
      <td class="tg-8jgo">53</td>
      <td class="tg-8jgo">Private</td>
      <td class="tg-8jgo">234721</td>
      <td class="tg-8jgo">11th</td>
      <td class="tg-8jgo">7</td>
      <td class="tg-8jgo">Married-civ-spouse</td>
      <td class="tg-8jgo">Handlers-cleaners</td>
      <td class="tg-8jgo">Husband</td>
    </tr>
    <tr>
      <td class="tg-zv4m">35130194</td>
      <td class="tg-8jgo">28</td>
      <td class="tg-8jgo">Private</td>
      <td class="tg-8jgo">338409</td>
      <td class="tg-8jgo">Bachelors</td>
      <td class="tg-8jgo">13</td>
      <td class="tg-8jgo">Married-civ-spouse</td>
      <td class="tg-8jgo">Prof-specialty</td>
      <td class="tg-8jgo">Wife</td>
    </tr>
  </tbody>
</table>
</div><p></p>
</section>
<section id="trailing-period-removal">
<h2>Trailing Period Removal<a class="headerlink" href="#trailing-period-removal" title="Link to this heading"></a></h2>
<p><strong>Strip the trailing period from floats in a specified column of a DataFrame, if present.</strong></p>
<dl class="py function">
<dt class="sig sig-object py" id="strip_trailing_period">
<span class="sig-name descname"><span class="pre">strip_trailing_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#strip_trailing_period" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – The DataFrame containing the column to be processed.</p></li>
<li><p><strong>column_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the column containing floats with potential trailing periods.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame with the trailing periods removed from the specified column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">strip_trailing_period</span></code> function is designed to remove trailing periods
from float values in a specified column of a DataFrame. This can be particularly
useful when dealing with data that has been inconsistently formatted, ensuring
that all float values are correctly represented.</p>
</dd></dl>

<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">strip_trailing_period</span></code> function to clean a
column in a DataFrame. We start by importing the necessary libraries and creating a sample DataFrame.
We then use the <code class="docutils literal notranslate"><span class="pre">strip_trailing_period</span></code> function to remove any trailing periods from the specified column.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">strip_trailing_period</span>

<span class="c1"># Create a sample dataframe with trailing periods in some values</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.</span><span class="p">],</span>
<span class="p">}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Remove trailing periods from the &#39;values&#39; column</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">strip_trailing_period</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">column_name</span><span class="o">=</span><span class="s2">&quot;values&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p><cite>First 6 Rows of Data Before and After Removing Trailing Periods (Adapted from Example)</cite></p>
<table>
    <tr>
        <td style="padding-right: 10px; font-family: Arial; font-size: 14px;">

            <strong>Before:</strong>

            <table border="1" style="width: 150px; text-align: center; font-family: Arial; font-size: 14px;">
                <tr>
                    <th>Index</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>0</td>
                    <td>1.0</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2.0</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>3.0</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>4.0</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>5.0</td>
                </tr>
                <tr style="background-color: #FFCCCC;">
                    <td>5</td>
                    <td>6.</td>
                </tr>
            </table>

        </td>
        <td style="padding-left: 10px; font-family: Arial; font-size: 14px;">

            <strong>After:</strong>

            <table border="1" style="width: 150px; text-align: center; font-family: Arial; font-size: 14px;">
                <tr>
                    <th>Index</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>0</td>
                    <td>1.0</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>2.0</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>3.0</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>4.0</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>5.0</td>
                </tr>
                <tr style="background-color: #FFCCCC;">
                    <td>5</td>
                    <td>6.0</td>
                </tr>
            </table>

        </td>
    </tr>
</table><p></p>
<p><cite>Note:</cite> The last row shows 6 as an <cite>int</cite> with a trailing period with its conversion to <cite>float</cite>.</p>
<p></p>
</section>
<section id="standardized-dates">
<h2>Standardized Dates<a class="headerlink" href="#standardized-dates" title="Link to this heading"></a></h2>
<p><strong>Parse and standardize date strings based on the provided rule.</strong></p>
<dl class="py function">
<dt class="sig sig-object py" id="parse_date_with_rule">
<span class="sig-name descname"><span class="pre">parse_date_with_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date_str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse_date_with_rule" title="Link to this definition"></a></dt>
<dd><p>This function takes a date string and standardizes it to the <code class="docutils literal notranslate"><span class="pre">ISO</span> <span class="pre">8601</span></code> format
(<code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span></code>). It assumes dates are provided in either <cite>day/month/year</cite> or
<cite>month/day/year</cite> format. The function first checks if the first part of the
date string (day or month) is greater than 12, which unambiguously indicates
a <cite>day/month/year</cite> format. If the first part is 12 or less, the function
attempts to parse the date as <cite>month/day/year</cite>, falling back to <cite>day/month/year</cite>
if the former raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> due to an impossible date (e.g., month
being greater than 12).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – A date string to be standardized.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A standardized date string in the format <code class="docutils literal notranslate"><span class="pre">YYYY-MM-DD</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">date_str</span></code> is in an unrecognized format or if the function
cannot parse the date.</p>
</dd>
</dl>
</dd></dl>

<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">parse_date_with_rule</span></code>
function to standardize date strings. We start by importing the necessary library
and creating a sample list of date strings. We then use the <code class="docutils literal notranslate"><span class="pre">parse_date_with_rule</span></code>
function to parse and standardize each date string to the <code class="docutils literal notranslate"><span class="pre">ISO</span> <span class="pre">8601</span></code> format.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">parse_date_with_rule</span>

<span class="c1"># Sample date strings</span>
<span class="n">date_strings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;15/04/2021&quot;</span><span class="p">,</span> <span class="s2">&quot;04/15/2021&quot;</span><span class="p">,</span> <span class="s2">&quot;01/12/2020&quot;</span><span class="p">,</span> <span class="s2">&quot;12/01/2020&quot;</span><span class="p">]</span>

<span class="c1"># Standardize the date strings</span>
<span class="n">standardized_dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">parse_date_with_rule</span><span class="p">(</span><span class="n">date</span><span class="p">)</span> <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">date_strings</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">standardized_dates</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;2021-04-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2021-04-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2020-12-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2020-01-12&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In the next example, we demonstrate how to apply the <code class="docutils literal notranslate"><span class="pre">parse_date_with_rule</span></code>
function to a DataFrame column containing date strings using the <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> method.
This is particularly useful when you need to standardize date formats across an
entire column in a DataFrame.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Creating the DataFrame</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;date_column&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;31/12/2021&quot;</span><span class="p">,</span>
        <span class="s2">&quot;01/01/2022&quot;</span><span class="p">,</span>
        <span class="s2">&quot;12/31/2021&quot;</span><span class="p">,</span>
        <span class="s2">&quot;13/02/2022&quot;</span><span class="p">,</span>
        <span class="s2">&quot;07/04/2022&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Charlie&quot;</span><span class="p">,</span> <span class="s2">&quot;David&quot;</span><span class="p">,</span> <span class="s2">&quot;Eve&quot;</span><span class="p">],</span>
    <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">100.0</span><span class="p">,</span> <span class="mf">150.5</span><span class="p">,</span> <span class="mf">200.75</span><span class="p">,</span> <span class="mf">250.25</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># Apply the function to the DataFrame column</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;standardized_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;date_column&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">parse_date_with_rule</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>   <span class="n">date_column</span>     <span class="n">name</span>  <span class="n">amount</span> <span class="n">standardized_date</span>
<span class="mi">0</span>   <span class="mi">31</span><span class="o">/</span><span class="mi">12</span><span class="o">/</span><span class="mi">2021</span>    <span class="n">Alice</span>  <span class="mf">100.00</span>        <span class="mi">2021</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>
<span class="mi">1</span>   <span class="mi">01</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2022</span>      <span class="n">Bob</span>  <span class="mf">150.50</span>        <span class="mi">2022</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>
<span class="mi">2</span>   <span class="mi">12</span><span class="o">/</span><span class="mi">31</span><span class="o">/</span><span class="mi">2021</span>  <span class="n">Charlie</span>  <span class="mf">200.75</span>        <span class="mi">2021</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>
<span class="mi">3</span>   <span class="mi">13</span><span class="o">/</span><span class="mi">02</span><span class="o">/</span><span class="mi">2022</span>    <span class="n">David</span>  <span class="mf">250.25</span>        <span class="mi">2022</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">13</span>
<span class="mi">4</span>   <span class="mi">07</span><span class="o">/</span><span class="mi">04</span><span class="o">/</span><span class="mi">2022</span>      <span class="n">Eve</span>  <span class="mf">300.00</span>        <span class="mi">2022</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">07</span>
</pre></div>
</div>
</section>
<section id="dataframe-analysis">
<h2>DataFrame Analysis<a class="headerlink" href="#dataframe-analysis" title="Link to this heading"></a></h2>
<p><strong>Analyze DataFrame columns, including dtype, null values, and unique value counts.</strong></p>
<dl class="py function">
<dt class="sig sig-object py" id="dataframe_columns">
<span class="sig-name descname"><span class="pre">dataframe_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataframe_columns" title="Link to this definition"></a></dt>
<dd><p>This function analyzes the columns of a DataFrame, providing details about the data type,
the number and percentage of <code class="docutils literal notranslate"><span class="pre">null</span></code> values, the total number of unique values, and the most
frequent unique value along with its count and percentage. It handles special cases such as
converting date columns and replacing empty strings with Pandas <code class="docutils literal notranslate"><span class="pre">NA</span></code> values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame to analyze.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with the analysis results for each column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<p><strong>Example Usage</strong></p>
<p>In the example below, we demonstrate how to use the <code class="docutils literal notranslate"><span class="pre">dataframe_columns</span></code>
function to analyze a DataFrame’s columns.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">dataframe_columns</span>

<span class="n">dataframe_columns</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p><cite>Result on Census Income Data (Adapted from Kohavi, 1996, UCI Machine Learning Repository)</cite> <a class="footnote-reference brackets" href="#id23" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Shape</span><span class="p">:</span>  <span class="p">(</span><span class="mi">48842</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>

<span class="n">Total</span> <span class="n">seconds</span> <span class="n">of</span> <span class="n">processing</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.861555</span>
</pre></div>
</div>
<style type="text/css">
.tg-wrap {
width: 100%;
overflow-x: auto;
-webkit-overflow-scrolling: touch;
}
.tg  {border:none;border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{border-style:solid;border-width:0px;font-family:Consolas, monospace;font-size:11px;overflow:hidden;padding:0px 6px;
word-break:normal;}
.tg th{border-style:solid;border-width:0px;font-family:Consolas, monospace;font-size:11px;font-weight:normal;
overflow:hidden;padding:0px 6px;word-break:normal;}
.tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-dvpl{border-color:inherit;text-align:right;vertical-align:top}
.tg .tg-rvpl{border-color:inherit;text-align:right;vertical-align:top}
</style>
<div class="tg-wrap">
<table class="tg">
    <thead>
    <tr>
        <th class="tg-rvpl"></th>
        <th class="tg-rvpl"><span style="font-weight:bold">column</span></th>
        <th class="tg-rvpl"><span style="font-weight:bold">dtype</span></th>
        <th class="tg-0pky"><span style="font-weight:bold">null_total</span></th>
        <th class="tg-0pky"><span style="font-weight:bold">null_pct</span></th>
        <th class="tg-0pky"><span style="font-weight:bold">unique_values_total</span></th>
        <th class="tg-0pky"><span style="font-weight:bold">max_unique_value</span></th>
        <th class="tg-0pky"><span style="font-weight:bold">max_unique_value_total</span></th>
        <th class="tg-0pky"><span style="font-weight:bold">max_unique_value_pct</span></th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="tg-rvpl">0</td>
        <td class="tg-dvpl">age</td>
        <td class="tg-dvpl">int64</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">74</td>
        <td class="tg-dvpl">36</td>
        <td class="tg-dvpl">1348</td>
        <td class="tg-dvpl">2.76</td>
    </tr>
    <tr>
        <td class="tg-rvpl">1</td>
        <td class="tg-dvpl">workclass</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">963</td>
        <td class="tg-dvpl">1.97</td>
        <td class="tg-dvpl">9</td>
        <td class="tg-dvpl">Private</td>
        <td class="tg-dvpl">33906</td>
        <td class="tg-dvpl">69.42</td>
    </tr>
    <tr>
        <td class="tg-rvpl">2</td>
        <td class="tg-dvpl">fnlwgt</td>
        <td class="tg-dvpl">int64</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">28523</td>
        <td class="tg-dvpl">203488</td>
        <td class="tg-dvpl">21</td>
        <td class="tg-dvpl">0.04</td>
    </tr>
    <tr>
        <td class="tg-rvpl">3</td>
        <td class="tg-dvpl">education</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">16</td>
        <td class="tg-dvpl">HS-grad</td>
        <td class="tg-dvpl">15784</td>
        <td class="tg-dvpl">32.32</td>
    </tr>
    <tr>
        <td class="tg-rvpl">4</td>
        <td class="tg-dvpl">education-num</td>
        <td class="tg-dvpl">int64</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">16</td>
        <td class="tg-dvpl">9</td>
        <td class="tg-dvpl">15784</td>
        <td class="tg-dvpl">32.32</td>
    </tr>
    <tr>
        <td class="tg-rvpl">5</td>
        <td class="tg-dvpl">marital-status</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">7</td>
        <td class="tg-dvpl">Married-civ-spouse</td>
        <td class="tg-dvpl">22379</td>
        <td class="tg-dvpl">45.82</td>
    </tr>
    <tr>
        <td class="tg-rvpl">6</td>
        <td class="tg-dvpl">occupation</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">966</td>
        <td class="tg-dvpl">1.98</td>
        <td class="tg-dvpl">15</td>
        <td class="tg-dvpl">Prof-specialty</td>
        <td class="tg-dvpl">6172</td>
        <td class="tg-dvpl">12.64</td>
    </tr>
    <tr>
        <td class="tg-rvpl">7</td>
        <td class="tg-dvpl">relationship</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">6</td>
        <td class="tg-dvpl">Husband</td>
        <td class="tg-dvpl">19716</td>
        <td class="tg-dvpl">40.37</td>
    </tr>
    <tr>
        <td class="tg-rvpl">8</td>
        <td class="tg-dvpl">race</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">5</td>
        <td class="tg-dvpl">White</td>
        <td class="tg-dvpl">41762</td>
        <td class="tg-dvpl">85.5</td>
    </tr>
    <tr>
        <td class="tg-rvpl">9</td>
        <td class="tg-dvpl">sex</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">2</td>
        <td class="tg-dvpl">Male</td>
        <td class="tg-dvpl">32650</td>
        <td class="tg-dvpl">66.85</td>
    </tr>
    <tr>
        <td class="tg-rvpl">10</td>
        <td class="tg-dvpl">capital-gain</td>
        <td class="tg-dvpl">int64</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">123</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">44807</td>
        <td class="tg-dvpl">91.74</td>
    </tr>
    <tr>
        <td class="tg-rvpl">11</td>
        <td class="tg-dvpl">capital-loss</td>
        <td class="tg-dvpl">int64</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">99</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">46560</td>
        <td class="tg-dvpl">95.33</td>
    </tr>
    <tr>
        <td class="tg-rvpl">12</td>
        <td class="tg-dvpl">hours-per-week</td>
        <td class="tg-dvpl">int64</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">96</td>
        <td class="tg-dvpl">40</td>
        <td class="tg-dvpl">22803</td>
        <td class="tg-dvpl">46.69</td>
    </tr>
    <tr>
        <td class="tg-rvpl">13</td>
        <td class="tg-dvpl">native-country</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">274</td>
        <td class="tg-dvpl">0.56</td>
        <td class="tg-dvpl">42</td>
        <td class="tg-dvpl">United-States</td>
        <td class="tg-dvpl">43832</td>
        <td class="tg-dvpl">89.74</td>
    </tr>
    <tr>
        <td class="tg-rvpl">14</td>
        <td class="tg-dvpl">income</td>
        <td class="tg-dvpl">object</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">4</td>
        <td class="tg-dvpl">&lt;=50K</td>
        <td class="tg-dvpl">24720</td>
        <td class="tg-dvpl">50.61</td>
    </tr>
    <tr>
        <td class="tg-rvpl">15</td>
        <td class="tg-dvpl">age_group</td>
        <td class="tg-dvpl">category</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">0</td>
        <td class="tg-dvpl">9</td>
        <td class="tg-dvpl">18-29</td>
        <td class="tg-dvpl">13920</td>
        <td class="tg-dvpl">28.5</td>
    </tr>
    </tbody>
</table>
</div><p></p>
</section>
<section id="generating-summary-tables-for-variable-combinations">
<h2>Generating Summary Tables for Variable Combinations<a class="headerlink" href="#generating-summary-tables-for-variable-combinations" title="Link to this heading"></a></h2>
<p><strong>This function generates summary tables for all possible combinations of specified variables
in a DataFrame and save them to an Excel file.</strong></p>
<dl class="py function">
<dt class="sig sig-object py" id="summarize_all_combinations">
<span class="sig-name descname"><span class="pre">summarize_all_combinations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#summarize_all_combinations" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The pandas DataFrame containing the data.</p></li>
<li><p><strong>variables</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – List of unique variables to generate combinations.</p></li>
<li><p><strong>data_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Path where the output Excel file will be saved.</p></li>
<li><p><strong>data_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Name of the output Excel file.</p></li>
<li><p><strong>min_length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Minimum length of combinations to generate. Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of summary tables and a list of all generated combinations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)">tuple</a>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a>)</p>
</dd>
</dl>
</dd></dl>

<p>The function returns two outputs:</p>
<p>1. <code class="docutils literal notranslate"><span class="pre">summary_tables</span></code>: A dictionary where each key is a tuple representing a combination
of variables, and each value is a DataFrame containing the summary table for that combination.
Each summary table includes the count and proportion of occurrences for each unique combination of values.</p>
<p>2. <code class="docutils literal notranslate"><span class="pre">all_combinations</span></code>: A list of all generated combinations of the specified variables.
This is useful for understanding which combinations were analyzed and included in the summary tables.</p>
<p><strong>Example Usage</strong></p>
<p>Below, we use the <code class="docutils literal notranslate"><span class="pre">summarize_all_combinations</span></code> function to generate summary tables for the specified
variables from a DataFrame containing the census data <a class="footnote-reference brackets" href="#id23" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">summarize_all_combinations</span>

<span class="c1"># Define unique variables for the analysis</span>
<span class="n">unique_vars</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;age_group&quot;</span><span class="p">,</span>
    <span class="s2">&quot;workclass&quot;</span><span class="p">,</span>
    <span class="s2">&quot;education&quot;</span><span class="p">,</span>
    <span class="s2">&quot;occupation&quot;</span><span class="p">,</span>
    <span class="s2">&quot;race&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;income&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># Generate summary tables for all combinations of the specified variables</span>
<span class="n">summary_tables</span><span class="p">,</span> <span class="n">all_combinations</span> <span class="o">=</span> <span class="n">summarize_all_combinations</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">data_path</span><span class="o">=</span><span class="n">data_output</span><span class="p">,</span>
    <span class="n">variables</span><span class="o">=</span><span class="n">unique_vars</span><span class="p">,</span>
    <span class="n">data_name</span><span class="o">=</span><span class="s2">&quot;census_summary_tables.xlsx&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Print all combinations of variables</span>
<span class="nb">print</span><span class="p">(</span><span class="n">all_combinations</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;workclass&#39;</span><span class="p">,</span> <span class="s1">&#39;education&#39;</span><span class="p">,</span> <span class="s1">&#39;occupation&#39;</span><span class="p">,</span> <span class="s1">&#39;race&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;income&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;age_group&#39;</span><span class="p">,</span>
<span class="s1">&#39;workclass&#39;</span><span class="p">,</span>
<span class="s1">&#39;education&#39;</span><span class="p">,</span>
<span class="s1">&#39;occupation&#39;</span><span class="p">,</span>
<span class="s1">&#39;race&#39;</span><span class="p">,</span>
<span class="s1">&#39;sex&#39;</span><span class="p">,</span>
<span class="s1">&#39;income&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>When applied to the US Census data, the output Excel file will contain summary tables for all possible combinations of the specified variables.
The first sheet will be a Table of Contents with hyperlinks to each summary table.</p>
<div class="no-click"><a class="reference internal image-reference" href="_images/summarize_combos.gif"><img alt="EDA Toolkit Logo" class="align-left" src="_images/summarize_combos.gif" style="width: 900px;" />
</a>
</div><div style="height: 106px;"></div></section>
<section id="saving-dataframes-to-excel-with-customized-formatting">
<h2>Saving DataFrames to Excel with Customized Formatting<a class="headerlink" href="#saving-dataframes-to-excel-with-customized-formatting" title="Link to this heading"></a></h2>
<p><strong>Save multiple DataFrames to separate sheets in an Excel file with customized
formatting.</strong></p>
<p>This section explains how to save multiple DataFrames to separate sheets in an Excel file with customized formatting using the <code class="docutils literal notranslate"><span class="pre">save_dataframes_to_excel</span></code> function.</p>
<dl class="py function">
<dt class="sig sig-object py" id="save_dataframes_to_excel">
<span class="sig-name descname"><span class="pre">save_dataframes_to_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_places</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#save_dataframes_to_excel" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Full path to the output Excel file.</p></li>
<li><p><strong>df_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Dictionary where keys are sheet names and values are DataFrames to save.</p></li>
<li><p><strong>decimal_places</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of decimal places to round numeric columns. Default is 0.</p></li>
</ul>
</dd>
<dt class="field-even">Notes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>The function will autofit columns and left-align text.</p></li>
<li><p>Numeric columns will be formatted with the specified number of decimal places.</p></li>
<li><p>Headers will be bold and left-aligned without borders.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>The function performs the following tasks:</p>
<ul class="simple">
<li><p>Writes each DataFrame to its respective sheet in the Excel file.</p></li>
<li><p>Rounds numeric columns to the specified number of decimal places.</p></li>
<li><p>Applies customized formatting to headers and cells.</p></li>
<li><p>Autofits columns based on the content length.</p></li>
</ul>
<p><strong>Example Usage</strong></p>
<p>Below, we use the <code class="docutils literal notranslate"><span class="pre">save_dataframes_to_excel</span></code> function to save two DataFrames:
the original DataFrame and a filtered DataFrame with ages between <cite>18</cite> and <cite>40</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">save_dataframes_to_excel</span>

<span class="c1"># Example usage</span>
<span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;df_census.xlsx&quot;</span>  <span class="c1"># Name of the output Excel file</span>
<span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

<span class="c1"># filter DataFrame to Ages 18-40</span>
<span class="n">filtered_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">40</span><span class="p">)]</span>

<span class="n">df_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;original_df&quot;</span><span class="p">:</span> <span class="n">df</span><span class="p">,</span>
    <span class="s2">&quot;ages_18_to_40&quot;</span><span class="p">:</span> <span class="n">filtered_df</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">save_dataframes_to_excel</span><span class="p">(</span>
    <span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span>
    <span class="n">df_dict</span><span class="o">=</span><span class="n">df_dict</span><span class="p">,</span>
    <span class="n">decimal_places</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p>The output Excel file will contain the original DataFrame and a filtered DataFrame as a separate tab with ages
between <cite>18</cite> and <cite>40</cite>, each on separate sheets with customized formatting.</p>
</section>
<section id="creating-contingency-tables">
<h2>Creating Contingency Tables<a class="headerlink" href="#creating-contingency-tables" title="Link to this heading"></a></h2>
<p><strong>Create a contingency table from one or more columns in a DataFrame, with sorting options.</strong></p>
<p>This section explains how to create contingency tables from one or more columns in a DataFrame using the <code class="docutils literal notranslate"><span class="pre">contingency_table</span></code> function.</p>
<dl class="py function">
<dt class="sig sig-object py" id="contingency_table">
<span class="sig-name descname"><span class="pre">contingency_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#contingency_table" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame to analyze.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Name of the column (as a string) for a single column or list of column names for multiple columns. Must provide at least one column.</p></li>
<li><p><strong>sort_by</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Enter <code class="docutils literal notranslate"><span class="pre">0</span></code> to sort results by column groups; enter <code class="docutils literal notranslate"><span class="pre">1</span></code> to sort results by totals in descending order.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If no columns are specified or if sort_by is not <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame with the specified columns, <code class="docutils literal notranslate"><span class="pre">'Total'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'Percentage'</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<p><strong>Example Usage</strong></p>
<p>Below, we use the <code class="docutils literal notranslate"><span class="pre">contingency_table</span></code> function to create a contingency table
from the specified columns in a DataFrame containing census data <a class="footnote-reference brackets" href="#id23" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">contingency_table</span>

<span class="c1"># Example usage</span>
<span class="n">contingency_table</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">cols</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;age_group&quot;</span><span class="p">,</span>
        <span class="s2">&quot;workclass&quot;</span><span class="p">,</span>
        <span class="s2">&quot;race&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sex&quot;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">sort_by</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p>The output will be a contingency table with the specified columns, showing the
total counts and percentages of occurrences for each combination of values. The
table will be sorted by the <code class="docutils literal notranslate"><span class="pre">'Total'</span></code> column in descending order because <code class="docutils literal notranslate"><span class="pre">sort_by</span></code>
is set to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">age_group</span>     <span class="n">workclass</span>                <span class="n">race</span>     <span class="n">sex</span>  <span class="n">Total</span>  <span class="n">Percentage</span>
<span class="mi">0</span>       <span class="mi">30</span><span class="o">-</span><span class="mi">39</span>       <span class="n">Private</span>               <span class="n">White</span>    <span class="n">Male</span>   <span class="mi">5856</span>       <span class="mf">11.99</span>
<span class="mi">1</span>       <span class="mi">18</span><span class="o">-</span><span class="mi">29</span>       <span class="n">Private</span>               <span class="n">White</span>    <span class="n">Male</span>   <span class="mi">5623</span>       <span class="mf">11.51</span>
<span class="mi">2</span>       <span class="mi">40</span><span class="o">-</span><span class="mi">49</span>       <span class="n">Private</span>               <span class="n">White</span>    <span class="n">Male</span>   <span class="mi">4267</span>        <span class="mf">8.74</span>
<span class="mi">3</span>       <span class="mi">18</span><span class="o">-</span><span class="mi">29</span>       <span class="n">Private</span>               <span class="n">White</span>  <span class="n">Female</span>   <span class="mi">3680</span>        <span class="mf">7.53</span>
<span class="mi">4</span>       <span class="mi">50</span><span class="o">-</span><span class="mi">59</span>       <span class="n">Private</span>               <span class="n">White</span>    <span class="n">Male</span>   <span class="mi">2565</span>        <span class="mf">5.25</span>
<span class="o">..</span>        <span class="o">...</span>           <span class="o">...</span>                 <span class="o">...</span>     <span class="o">...</span>    <span class="o">...</span>         <span class="o">...</span>
<span class="mi">467</span>     <span class="mi">50</span><span class="o">-</span><span class="mi">59</span>   <span class="n">Federal</span><span class="o">-</span><span class="n">gov</span>               <span class="n">Other</span>    <span class="n">Male</span>      <span class="mi">1</span>        <span class="mf">0.00</span>
<span class="mi">468</span>     <span class="mi">50</span><span class="o">-</span><span class="mi">59</span>     <span class="n">Local</span><span class="o">-</span><span class="n">gov</span>  <span class="n">Asian</span><span class="o">-</span><span class="n">Pac</span><span class="o">-</span><span class="n">Islander</span>  <span class="n">Female</span>      <span class="mi">1</span>        <span class="mf">0.00</span>
<span class="mi">469</span>     <span class="mi">70</span><span class="o">-</span><span class="mi">79</span>  <span class="n">Self</span><span class="o">-</span><span class="n">emp</span><span class="o">-</span><span class="n">inc</span>               <span class="n">Black</span>    <span class="n">Male</span>      <span class="mi">1</span>        <span class="mf">0.00</span>
<span class="mi">470</span>     <span class="mi">80</span><span class="o">-</span><span class="mi">89</span>     <span class="n">Local</span><span class="o">-</span><span class="n">gov</span>  <span class="n">Asian</span><span class="o">-</span><span class="n">Pac</span><span class="o">-</span><span class="n">Islander</span>    <span class="n">Male</span>      <span class="mi">1</span>        <span class="mf">0.00</span>
<span class="mi">471</span>                                                      <span class="mi">48842</span>      <span class="mf">100.00</span>

<span class="p">[</span><span class="mi">472</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">6</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p></p>
</section>
<section id="highlighting-specific-columns-in-a-dataframe">
<h2>Highlighting Specific Columns in a DataFrame<a class="headerlink" href="#highlighting-specific-columns-in-a-dataframe" title="Link to this heading"></a></h2>
<p>This section explains how to highlight specific columns in a DataFrame using the <code class="docutils literal notranslate"><span class="pre">highlight_columns</span></code> function.</p>
<p><strong>Highlight specific columns in a DataFrame with a specified background color.</strong></p>
<dl class="py function">
<dt class="sig sig-object py" id="highlight_columns">
<span class="sig-name descname"><span class="pre">highlight_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'yellow'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#highlight_columns" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame to be styled.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – List of column names to be highlighted.</p></li>
<li><p><strong>color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The background color to be applied for highlighting (default is <cite>“yellow”</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Styler object with the specified columns highlighted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.io.formats.style.Styler</p>
</dd>
</dl>
</dd></dl>

<p><strong>Example Usage</strong></p>
<p>Below, we use the <code class="docutils literal notranslate"><span class="pre">highlight_columns</span></code> function to highlight the <code class="docutils literal notranslate"><span class="pre">age</span></code> and <code class="docutils literal notranslate"><span class="pre">education</span></code>
columns in the first 5 rows of the census <a class="footnote-reference brackets" href="#id23" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> DataFrame with a pink background color.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">highlight_columns</span>

<span class="c1"># Applying the highlight function</span>
<span class="n">highlighted_df</span> <span class="o">=</span> <span class="n">highlight_columns</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;education&quot;</span><span class="p">],</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#F8C5C8&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">highlighted_df</span>
</pre></div>
</div>
<p><strong>Output</strong></p>
<p>The output will be a DataFrame with the specified columns highlighted in the given background color.
The <code class="docutils literal notranslate"><span class="pre">age</span></code> and <code class="docutils literal notranslate"><span class="pre">education</span></code> columns will be highlighted in pink.</p>
<p>The resulting styled DataFrame can be displayed in a Jupyter Notebook or saved to an
HTML file using the <code class="docutils literal notranslate"><span class="pre">.render()</span></code> method of the Styler object.</p>
<style type="text/css">
.tg  {border:none;border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{border-style:solid;border-width:0px;font-family:monospace, sans-serif;font-size:11px;overflow:hidden;padding:0px 5px;
word-break:normal;}
.tg th{border-style:solid;border-width:0px;font-family:monospace, sans-serif;font-size:11px;font-weight:normal;
overflow:hidden;padding:0px 5px;word-break:normal;}
.tg .tg-zv36{background-color:#ffffff;border-color:inherit;font-weight:bold;text-align:left;vertical-align:top}
.tg .tg-c6of{background-color:#ffffff;border-color:inherit;text-align:left;vertical-align:top}
.tg .tg-7g6k{background-color:#ffffff;border-color:inherit;font-weight:bold;text-align:center;vertical-align:top}
.tg .tg-3xi5{background-color:#ffffff;border-color:inherit;text-align:center;vertical-align:top}
.tg .tg-6qlg{background-color:#FFCCCC;border-color:inherit;text-align:center;vertical-align:top}
@media screen and (max-width: 767px) {.tg {width: auto !important;}.tg col {width: auto !important;}.tg-wrap {overflow-x: auto;-webkit-overflow-scrolling: touch;margin: auto 0px;}}</style>
<div class="tg-wrap"><table class="tg"><thead>
<tr>
    <th class="tg-c6of"></th>
    <th class="tg-7g6k">age</th>
    <th class="tg-7g6k">workclass</th>
    <th class="tg-7g6k">fnlwgt</th>
    <th class="tg-7g6k">education</th>
    <th class="tg-7g6k">education-num</th>
    <th class="tg-7g6k">marital-status</th>
    <th class="tg-7g6k">occupation</th>
    <th class="tg-7g6k">relationship</th>
</tr></thead>
<tbody>
<tr>
    <td class="tg-zv36">census_id</td>
    <td class="tg-3xi5"></td>
    <td class="tg-3xi5"></td>
    <td class="tg-3xi5"></td>
    <td class="tg-3xi5"></td>
    <td class="tg-3xi5"></td>
    <td class="tg-3xi5"></td>
    <td class="tg-3xi5"></td>
    <td class="tg-3xi5"></td>
</tr>
<tr>
    <td class="tg-c6of">82943611</td>
    <td class="tg-6qlg">39</td>
    <td class="tg-3xi5">State-gov</td>
    <td class="tg-3xi5">77516</td>
    <td class="tg-6qlg">Bachelors</td>
    <td class="tg-3xi5">13</td>
    <td class="tg-3xi5">Never-married</td>
    <td class="tg-3xi5">Adm-clerical</td>
    <td class="tg-3xi5">Not-in-family</td>
</tr>
<tr>
    <td class="tg-c6of">42643227</td>
    <td class="tg-6qlg">50</td>
    <td class="tg-3xi5">Self-emp-not-inc</td>
    <td class="tg-3xi5">83311</td>
    <td class="tg-6qlg">Bachelors</td>
    <td class="tg-3xi5">13</td>
    <td class="tg-3xi5">Married-civ-spouse</td>
    <td class="tg-3xi5">Exec-managerial</td>
    <td class="tg-3xi5">Husband</td>
</tr>
<tr>
    <td class="tg-c6of">93837254</td>
    <td class="tg-6qlg">38</td>
    <td class="tg-3xi5">Private</td>
    <td class="tg-3xi5">215646</td>
    <td class="tg-6qlg">HS-grad</td>
    <td class="tg-3xi5">9</td>
    <td class="tg-3xi5">Divorced</td>
    <td class="tg-3xi5">Handlers-cleaners</td>
    <td class="tg-3xi5">Not-in-family</td>
</tr>
<tr>
    <td class="tg-c6of">87104229</td>
    <td class="tg-6qlg">53</td>
    <td class="tg-3xi5">Private</td>
    <td class="tg-3xi5">234721</td>
    <td class="tg-6qlg">11th</td>
    <td class="tg-3xi5">7</td>
    <td class="tg-3xi5">Married-civ-spouse</td>
    <td class="tg-3xi5">Handlers-cleaners</td>
    <td class="tg-3xi5">Husband</td>
</tr>
<tr>
    <td class="tg-c6of">90069867</td>
    <td class="tg-6qlg">28</td>
    <td class="tg-3xi5">Private</td>
    <td class="tg-3xi5">338409</td>
    <td class="tg-6qlg">Bachelors</td>
    <td class="tg-3xi5">13</td>
    <td class="tg-3xi5">Married-civ-spouse</td>
    <td class="tg-3xi5">Prof-specialty</td>
    <td class="tg-3xi5">Wife</td>
</tr>
</tbody></table></div><p></p>
</section>
<section id="binning-numerical-columns">
<h2>Binning Numerical Columns<a class="headerlink" href="#binning-numerical-columns" title="Link to this heading"></a></h2>
<p>Binning numerical columns is a technique used to convert continuous numerical
data into discrete categories or “bins.” This is especially useful for simplifying
analysis, creating categorical features from numerical data, or visualizing the
distribution of data within specific ranges. The process of binning involves
dividing a continuous range of values into a series of intervals, or “bins,” and
then assigning each value to one of these intervals.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The code snippets below create age bins and assign a corresponding age group
label to each age in the DataFrame. The <code class="docutils literal notranslate"><span class="pre">pd.cut</span></code> function from pandas is used to
categorize the ages and assign them to a new column, <code class="docutils literal notranslate"><span class="pre">age_group</span></code>. Adjust the bins
and labels as needed for your specific data.</p>
</div>
<p>Below, we use the <code class="docutils literal notranslate"><span class="pre">age</span></code> column of the census data <a class="footnote-reference brackets" href="#id23" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> from the UCI Machine Learning Repository as an example:</p>
<ol class="arabic">
<li><p><strong>Bins Definition</strong>:
The bins are defined by specifying the boundaries of each interval. For example,
in the code snippet below, the <code class="docutils literal notranslate"><span class="pre">bin_ages</span></code> list specifies the boundaries for age groups:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bin_ages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>
    <span class="mi">18</span><span class="p">,</span>
    <span class="mi">30</span><span class="p">,</span>
    <span class="mi">40</span><span class="p">,</span>
    <span class="mi">50</span><span class="p">,</span>
    <span class="mi">60</span><span class="p">,</span>
    <span class="mi">70</span><span class="p">,</span>
    <span class="mi">80</span><span class="p">,</span>
    <span class="mi">90</span><span class="p">,</span>
    <span class="mi">100</span><span class="p">,</span>
    <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Each pair of consecutive elements in <code class="docutils literal notranslate"><span class="pre">bin_ages</span></code> defines a bin. For example:</p>
<ul class="simple">
<li><p>The first bin is <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">18)</span></code>,</p></li>
<li><p>The second bin is <code class="docutils literal notranslate"><span class="pre">[18,</span> <span class="pre">30)</span></code>,</p></li>
<li><p>and so on.</p></li>
</ul>
</li>
</ol>
<p></p>
<ol class="arabic" start="2">
<li><p><strong>Labels for Bins</strong>:
The <cite>label_ages</cite> list provides labels corresponding to each bin:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">label_ages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;&lt; 18&quot;</span><span class="p">,</span>
    <span class="s2">&quot;18-29&quot;</span><span class="p">,</span>
    <span class="s2">&quot;30-39&quot;</span><span class="p">,</span>
    <span class="s2">&quot;40-49&quot;</span><span class="p">,</span>
    <span class="s2">&quot;50-59&quot;</span><span class="p">,</span>
    <span class="s2">&quot;60-69&quot;</span><span class="p">,</span>
    <span class="s2">&quot;70-79&quot;</span><span class="p">,</span>
    <span class="s2">&quot;80-89&quot;</span><span class="p">,</span>
    <span class="s2">&quot;90-99&quot;</span><span class="p">,</span>
    <span class="s2">&quot;100 +&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>These labels are used to categorize the numerical values into meaningful groups.</p>
</li>
<li><p><strong>Applying the Binning</strong>:
The <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.cut.html">pd.cut</a> function
from Pandas is used to apply the binning process. For each value in the <code class="docutils literal notranslate"><span class="pre">age</span></code>
column of the DataFrame, it assigns a corresponding label based on which bin the
value falls into. Here, <code class="docutils literal notranslate"><span class="pre">right=False</span></code> indicates that each bin includes the
left endpoint but excludes the right endpoint. For example, if <code class="docutils literal notranslate"><span class="pre">bin_ages</span> <span class="pre">=</span>
<span class="pre">[0,</span> <span class="pre">10,</span> <span class="pre">20,</span> <span class="pre">30]</span></code>, then a value of <code class="docutils literal notranslate"><span class="pre">10</span></code> will fall into the bin <code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">20)</span></code> and
be labeled accordingly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;age_group&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">],</span>
    <span class="n">bins</span><span class="o">=</span><span class="n">bin_ages</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">label_ages</span><span class="p">,</span>
    <span class="n">right</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Mathematically</strong>, for a given value <cite>x</cite> in the <code class="docutils literal notranslate"><span class="pre">age</span></code> column:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\text{age_group} =
\begin{cases}
 &lt; 18 &amp; \text{if } 0 \leq x &lt; 18 \\
 18-29 &amp; \text{if } 18 \leq x &lt; 30 \\
 \vdots \\
 100 + &amp; \text{if } x \geq 100
\end{cases}\end{split}\]</div>
<p>The parameter <cite>right=False</cite> in <cite>pd.cut</cite> means that the bins are left-inclusive
and right-exclusive, except for the last bin, which is always right-inclusive
when the upper bound is infinity (<cite>float(“inf”)</cite>).</p>
</li>
</ol>
</section>
</section>
<section id="kde-and-histogram-distribution-plots">
<h1>KDE and Histogram Distribution Plots<a class="headerlink" href="#kde-and-histogram-distribution-plots" title="Link to this heading"></a></h1>
<section id="gaussian-assumption-for-normality">
<h2>Gaussian Assumption for Normality<a class="headerlink" href="#gaussian-assumption-for-normality" title="Link to this heading"></a></h2>
<p>The Gaussian (normal) distribution is a key assumption in many statistical methods. It is mathematically represented by the probability density function (PDF):</p>
<div class="math notranslate nohighlight">
\[f(x) = \frac{1}{\sqrt{2\pi\sigma^2}} \exp\left(-\frac{(x-\mu)^2}{2\sigma^2}\right)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mu\)</span> is the mean</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma^2\)</span> is the variance</p></li>
</ul>
<p>In a normally distributed dataset:</p>
<ul class="simple">
<li><p>68% of data falls within <span class="math notranslate nohighlight">\(\mu \pm \sigma\)</span></p></li>
<li><p>95% within <span class="math notranslate nohighlight">\(\mu \pm 2\sigma\)</span></p></li>
<li><p>99.7% within <span class="math notranslate nohighlight">\(\mu \pm 3\sigma\)</span></p></li>
</ul>
<div class="no-click"><a class="reference internal image-reference" href="_images/normal_distribution.png"><img alt="KDE Distributions - KDE (+) Histograms (Density)" class="align-center" src="_images/normal_distribution.png" style="width: 950px;" />
</a>
</div><div style="height: 50px;"></div><section id="histograms-and-kde">
<h3>Histograms and KDE<a class="headerlink" href="#histograms-and-kde" title="Link to this heading"></a></h3>
<p><strong>Histograms</strong>:</p>
<ul class="simple">
<li><p>Visualize data distribution by binning values and counting frequencies.</p></li>
<li><p>If data is Gaussian, the histogram approximates a bell curve.</p></li>
</ul>
<p><strong>Kernel Density Estimation (KDE)</strong>:</p>
<ul class="simple">
<li><p>A non-parametric way to estimate the PDF by smoothing individual data points with a kernel function.</p></li>
<li><p>The KDE for a dataset <span class="math notranslate nohighlight">\(X = \{x_1, x_2, \ldots, x_n\}\)</span> is given by:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\hat{f}(x) = \frac{1}{nh} \sum_{i=1}^{n} K\left(\frac{x - x_i}{h}\right)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(K\)</span> is the kernel function (often Gaussian)</p></li>
<li><p><span class="math notranslate nohighlight">\(h\)</span> is the bandwidth (smoothing parameter)</p></li>
</ul>
<p><strong>Combined Use of Histograms and KDE</strong></p>
<ul class="simple">
<li><p><strong>Histograms</strong> offer a discrete, binned view of the data.</p></li>
<li><p><strong>KDE</strong> provides a smooth, continuous estimate of the underlying distribution.</p></li>
<li><p>Together, they effectively illustrate how well the data aligns with the Gaussian assumption, highlighting any deviations from normality.</p></li>
</ul>
</section>
</section>
<section id="kde-distribution-function">
<h2>KDE Distribution Function<a class="headerlink" href="#kde-distribution-function" title="Link to this heading"></a></h2>
<p><strong>Generate KDE or histogram distribution plots for specified columns in a DataFrame.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">kde_distributions</span></code> function is a versatile tool designed for generating
Kernel Density Estimate (KDE) plots, histograms, or a combination of both for
specified columns within a DataFrame. This function is particularly useful for
visualizing the distribution of numerical data across various categories or groups.
It leverages the powerful seaborn library <a class="footnote-reference brackets" href="#id24" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> for plotting, which is built on top of
matplotlib <a class="footnote-reference brackets" href="#id25" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> and provides a high-level interface for drawing attractive and informative
statistical graphics.</p>
<p><strong>Key Features and Parameters</strong></p>
<ul class="simple">
<li><p><strong>Flexible Plotting</strong>: The function supports creating histograms, KDE plots, or a combination of both for specified columns, allowing users to visualize data distributions effectively.</p></li>
<li><p><strong>Leverages Seaborn Library</strong>: The function is built on the <cite>seaborn</cite> library, which provides high-level, attractive visualizations, making it easy to create complex plots with minimal code.</p></li>
<li><p><strong>Customization</strong>: Users have control over plot aesthetics, such as colors, fill options, grid sizes, axis labels, tick marks, and more, allowing them to tailor the visualizations to their needs.</p></li>
<li><p><strong>Scientific Notation Control</strong>: The function allows disabling scientific notation on the axes, providing better readability for certain types of data.</p></li>
<li><p><strong>Log Scaling</strong>: The function includes an option to apply logarithmic scaling to specific variables, which is useful when dealing with data that spans several orders of magnitude.</p></li>
<li><p><strong>Output Options</strong>: The function supports saving plots as PNG or SVG files, with customizable filenames and output directories, making it easy to integrate the plots into reports or presentations.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="kde_distributions">
<span class="sig-name descname"><span class="pre">kde_distributions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vars_of_interest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(6,</span> <span class="pre">4)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kde</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hist_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#0000FF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kde_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#FF0000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hist_edgecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#000000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_png</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_svg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox_inches</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_var_image_path_png</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_var_image_path_svg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_var_image_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_axis_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Density'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_scale_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_sci_notation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'density'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#kde_distributions" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame containing the data to plot.</p></li>
<li><p><strong>vars_of_interest</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – List of column names for which to generate distribution plots.</p></li>
<li><p><strong>grid_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>, </em><em>optional</em>) – Size of the overall grid figure, default is <code class="docutils literal notranslate"><span class="pre">(10,</span> <span class="pre">8)</span></code>.</p></li>
<li><p><strong>single_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>, </em><em>optional</em>) – Size of individual figures for each variable, default is <code class="docutils literal notranslate"><span class="pre">(6,</span> <span class="pre">4)</span></code>.</p></li>
<li><p><strong>kde</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to include KDE plots on the histograms, default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>hist_color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Color of the histogram bars, default is <code class="docutils literal notranslate"><span class="pre">'#0000FF'</span></code>.</p></li>
<li><p><strong>kde_color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Color of the KDE plot, default is <code class="docutils literal notranslate"><span class="pre">'#FF0000'</span></code>.</p></li>
<li><p><strong>hist_edgecolor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Color of the histogram bar edges, default is <code class="docutils literal notranslate"><span class="pre">'#000000'</span></code>.</p></li>
<li><p><strong>hue</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Column name to group data by, adding different colors for each group.</p></li>
<li><p><strong>fill</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to fill the histogram bars with color, default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>fill_alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Alpha transparency for the fill color of the histogram bars, where
<code class="docutils literal notranslate"><span class="pre">0</span></code> is fully transparent and <code class="docutils literal notranslate"><span class="pre">1</span></code> is fully opaque. Default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>n_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Number of rows in the subplot grid, default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>n_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Number of columns in the subplot grid, default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>w_pad</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Width padding between subplots, default is <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
<li><p><strong>h_pad</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Height padding between subplots, default is <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
<li><p><strong>image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save the PNG image of the overall distribution plots.</p></li>
<li><p><strong>image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save the SVG image of the overall distribution plots.</p></li>
<li><p><strong>image_filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Filename to use when saving the overall distribution plots.</p></li>
<li><p><strong>bbox_inches</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Bounding box to use when saving the figure. For example, <code class="docutils literal notranslate"><span class="pre">'tight'</span></code>.</p></li>
<li><p><strong>single_var_image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save the PNG images of the separate distribution plots.</p></li>
<li><p><strong>single_var_image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save the SVG images of the separate distribution plots.</p></li>
<li><p><strong>single_var_image_filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Filename to use when saving the separate distribution plots.
The variable name will be appended to this filename.</p></li>
<li><p><strong>y_axis_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The label to display on the <code class="docutils literal notranslate"><span class="pre">y-axis</span></code>, default is <code class="docutils literal notranslate"><span class="pre">'Density'</span></code>.</p></li>
<li><p><strong>plot_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The type of plot to generate, options are <code class="docutils literal notranslate"><span class="pre">'hist'</span></code>, <code class="docutils literal notranslate"><span class="pre">'kde'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'both'</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">'both'</span></code>.</p></li>
<li><p><strong>log_scale_vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – List of variable names to apply log scaling.</p></li>
<li><p><strong>bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> or </em><em>sequence</em><em>, </em><em>optional</em>) – Specification of histogram bins, default is <code class="docutils literal notranslate"><span class="pre">'auto'</span></code>.</p></li>
<li><p><strong>binwidth</strong> (<em>number</em><em> or </em><em>pair</em><em> of </em><em>numbers</em><em>, </em><em>optional</em>) – Width of each bin, overrides bins but can be used with binrange.</p></li>
<li><p><strong>label_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis labels, including xlabel, ylabel, and tick marks, default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>tick_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis tick labels, default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>text_wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum width of the title text before wrapping, default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>disable_sci_notation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Toggle to disable scientific notation on axes, default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>stat</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Aggregate statistic to compute in each bin (e.g., <code class="docutils literal notranslate"><span class="pre">'count'</span></code>, <code class="docutils literal notranslate"><span class="pre">'frequency'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'probability'</span></code>, <code class="docutils literal notranslate"><span class="pre">'percent'</span></code>, <code class="docutils literal notranslate"><span class="pre">'density'</span></code>), default is <code class="docutils literal notranslate"><span class="pre">'density'</span></code>.</p></li>
<li><p><strong>xlim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <code class="docutils literal notranslate"><span class="pre">x-axis</span></code> as a tuple or list of (<cite>min, max</cite>).</p></li>
<li><p><strong>ylim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <code class="docutils literal notranslate"><span class="pre">y-axis</span></code> as a tuple or list of (<cite>min, max</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – <ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">'hist'</span></code>, <code class="docutils literal notranslate"><span class="pre">'kde'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'both'</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">stat</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">'count'</span></code>, <code class="docutils literal notranslate"><span class="pre">'density'</span></code>, <code class="docutils literal notranslate"><span class="pre">'frequency'</span></code>, <code class="docutils literal notranslate"><span class="pre">'probability'</span></code>, <code class="docutils literal notranslate"><span class="pre">'proportion'</span></code>, <code class="docutils literal notranslate"><span class="pre">'percent'</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">log_scale_vars</span></code> contains variables that are not present in the DataFrame.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">fill</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code> and <code class="docutils literal notranslate"><span class="pre">hist_edgecolor</span></code> is not the default.</p></li>
</ul>
</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#UserWarning" title="(in Python v3.13)"><strong>UserWarning</strong></a> – <ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">stat</span></code> is set to ‘count’ while <code class="docutils literal notranslate"><span class="pre">kde</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, as it may produce misleading plots.</p></li>
<li><p>If both <code class="docutils literal notranslate"><span class="pre">bins</span></code> and <code class="docutils literal notranslate"><span class="pre">binwidth</span></code> are specified, which may affect performance.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<p></p>
<br><section id="kde-and-histograms-example">
<h3>KDE and Histograms Example<a class="headerlink" href="#kde-and-histograms-example" title="Link to this heading"></a></h3>
<p>In the below example, the <code class="docutils literal notranslate"><span class="pre">kde_distributions</span></code> function is used to generate
histograms for several variables of interest: <code class="docutils literal notranslate"><span class="pre">&quot;age&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;education-num&quot;</span></code>, and
<code class="docutils literal notranslate"><span class="pre">&quot;hours-per-week&quot;</span></code>. These variables represent different demographic and
financial attributes from the dataset. The <code class="docutils literal notranslate"><span class="pre">kde=True</span></code> parameter ensures that a
Kernel Density Estimate (KDE) plot is overlaid on the histograms, providing a
smoothed representation of the data’s probability density.</p>
<p>The visualizations are arranged in a single row of four columns, as specified
by <code class="docutils literal notranslate"><span class="pre">n_rows=1</span></code> and <code class="docutils literal notranslate"><span class="pre">n_cols=3</span></code>, respectively. The overall size of the grid
figure is set to <cite>14 inches</cite> wide and <cite>4 inches tall</cite> (<code class="docutils literal notranslate"><span class="pre">grid_figsize=(14,</span> <span class="pre">4)</span></code>),
while each individual plot is configured to be <cite>4 inches</cite> by <cite>4 inches</cite>
(<code class="docutils literal notranslate"><span class="pre">single_figsize=(4,</span> <span class="pre">4)</span></code>). The <code class="docutils literal notranslate"><span class="pre">fill=True</span></code> parameter fills the histogram
bars with color, and the spacing between the subplots is managed using
<code class="docutils literal notranslate"><span class="pre">w_pad=1</span></code> and <code class="docutils literal notranslate"><span class="pre">h_pad=1</span></code>, which add <cite>1 inch</cite> of padding both horizontally and
vertically.</p>
<p>To handle longer titles, the <code class="docutils literal notranslate"><span class="pre">text_wrap=50</span></code> parameter ensures that the title
text wraps to a new line after <cite>50 characters</cite>. The <code class="docutils literal notranslate"><span class="pre">bbox_inches=&quot;tight&quot;</span></code> setting
is used when saving the figure, ensuring that it is cropped to remove any excess
whitespace around the edges. The variables specified in <code class="docutils literal notranslate"><span class="pre">vars_of_interest</span></code> are
passed directly to the function for visualization.</p>
<p>Each plot is saved individually with filenames that are prefixed by
<code class="docutils literal notranslate"><span class="pre">&quot;kde_density_single_distribution&quot;</span></code>, followed by the variable name. The <code class="docutils literal notranslate"><span class="pre">`y-axis`</span></code>
for all plots is labeled as “Density” (<code class="docutils literal notranslate"><span class="pre">y_axis_label=&quot;Density&quot;</span></code>), reflecting that
the height of the bars or KDE line represents the data’s density. The histograms
are divided into <cite>10 bins</cite> (<code class="docutils literal notranslate"><span class="pre">bins=10</span></code>), offering a clear view of the distribution
of each variable.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">plot_type=&quot;hist&quot;</span></code> parameter indicates that only histograms will be generated
for each variable. Additionally, the font sizes for the axis labels and tick labels
are set to <cite>16 points</cite> (<code class="docutils literal notranslate"><span class="pre">label_fontsize=16</span></code>) and <cite>14 points</cite> (<code class="docutils literal notranslate"><span class="pre">tick_fontsize=14</span></code>),
respectively, ensuring that all text within the plots is legible and well-formatted.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">kde_distributions</span>

<span class="n">vars_of_interest</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;age&quot;</span><span class="p">,</span>
    <span class="s2">&quot;education-num&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hours-per-week&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">kde_distributions</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">grid_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1"># Size of the overall grid figure</span>
    <span class="n">single_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1"># Size of individual figures</span>
    <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.60</span><span class="p">,</span>
    <span class="n">w_pad</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">h_pad</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span>
    <span class="n">vars_of_interest</span><span class="o">=</span><span class="n">vars_of_interest</span><span class="p">,</span>
    <span class="n">y_axis_label</span><span class="o">=</span><span class="s2">&quot;Density&quot;</span><span class="p">,</span>
    <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;hist&quot;</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>  <span class="c1"># Font size for axis labels</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>  <span class="c1"># Font size for tick labels</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/kde_density_distributions.svg"><img alt="KDE Distributions - KDE (+) Histograms (Density)" class="align-center" src="_images/kde_density_distributions.svg" style="width: 950px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="histogram-example-density">
<h3>Histogram Example (Density)<a class="headerlink" href="#histogram-example-density" title="Link to this heading"></a></h3>
<p>In this example, the kde_distributions function is used to generate histograms for
the variables <code class="docutils literal notranslate"><span class="pre">&quot;age&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;education-num&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;hours-per-week&quot;</span></code> but with
<code class="docutils literal notranslate"><span class="pre">kde=False</span></code>, meaning no KDE plots are included—only histograms are displayed.
The plots are arranged in a single row of four columns (<code class="docutils literal notranslate"><span class="pre">n_rows=1,</span> <span class="pre">n_cols=3</span></code>),
with a grid size of <cite>14x4 inches</cite> (<code class="docutils literal notranslate"><span class="pre">grid_figsize=(14,</span> <span class="pre">4)</span></code>). The histograms are
divided into <cite>10 bins</cite> (<code class="docutils literal notranslate"><span class="pre">bins=10</span></code>), and the <code class="docutils literal notranslate"><span class="pre">y-axis</span></code> is labeled “Density” (<code class="docutils literal notranslate"><span class="pre">y_axis_label=&quot;Density&quot;</span></code>).
Font sizes for the axis labels and tick labels are set to <cite>16</cite> and <cite>14</cite> points,
respectively, ensuring clarity in the visualizations. This setup focuses on the
histogram representation without the KDE overlay.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">kde_distributions</span>

<span class="n">vars_of_interest</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;age&quot;</span><span class="p">,</span>
    <span class="s2">&quot;education-num&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hours-per-week&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">kde_distributions</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">grid_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1"># Size of the overall grid figure</span>
    <span class="n">single_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1"># Size of individual figures</span>
    <span class="n">w_pad</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">h_pad</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span>
    <span class="n">vars_of_interest</span><span class="o">=</span><span class="n">vars_of_interest</span><span class="p">,</span>
    <span class="n">y_axis_label</span><span class="o">=</span><span class="s2">&quot;Density&quot;</span><span class="p">,</span>
    <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;hist&quot;</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;Density&quot;</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>  <span class="c1"># Font size for axis labels</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>  <span class="c1"># Font size for tick labels</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/hist_density_distributions.svg"><img alt="KDE Distributions - Histograms (Density)" class="align-center" src="_images/hist_density_distributions.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="histogram-example-count">
<h3>Histogram Example (Count)<a class="headerlink" href="#histogram-example-count" title="Link to this heading"></a></h3>
<p>In this example, the kde_distributions function is modified to generate histograms
with a few key changes. The <code class="docutils literal notranslate"><span class="pre">hist_color</span></code> is set to <cite>“orange”</cite>, changing the color of the
histogram bars. The <code class="docutils literal notranslate"><span class="pre">`y-axis`</span></code> label is updated to “Count” (<code class="docutils literal notranslate"><span class="pre">y_axis_label=&quot;Count&quot;</span></code>),
reflecting that the histograms display the count of observations within each bin.
Additionally, the stat parameter is set to <cite>“Count”</cite> to show the actual counts instead of
densities. The rest of the parameters remain the same as in the previous example,
with the plots arranged in a single row of four columns (<code class="docutils literal notranslate"><span class="pre">n_rows=1,</span> <span class="pre">n_cols=4</span></code>),
a grid size of <cite>14x4 inches</cite>, and a bin count of <cite>10</cite>. This setup focuses on
visualizing the raw counts in the dataset using orange-colored histograms.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">kde_distributions</span>

<span class="n">vars_of_interest</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;age&quot;</span><span class="p">,</span>
    <span class="s2">&quot;education-num&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hours-per-week&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">kde_distributions</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">grid_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1"># Size of the overall grid figure</span>
    <span class="n">single_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>  <span class="c1"># Size of individual figures</span>
    <span class="n">w_pad</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">h_pad</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">hist_color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span>
    <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span>
    <span class="n">vars_of_interest</span><span class="o">=</span><span class="n">vars_of_interest</span><span class="p">,</span>
    <span class="n">y_axis_label</span><span class="o">=</span><span class="s2">&quot;Count&quot;</span><span class="p">,</span>
    <span class="n">bins</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;hist&quot;</span><span class="p">,</span>
    <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;Count&quot;</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>  <span class="c1"># Font size for axis labels</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>  <span class="c1"># Font size for tick labels</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/count_hist_distributions.svg"><img alt="KDE Distributions - Histograms (Count)" class="align-center" src="_images/count_hist_distributions.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
</section>
</section>
<section id="stacked-crosstab-plots">
<h1>Stacked Crosstab Plots<a class="headerlink" href="#stacked-crosstab-plots" title="Link to this heading"></a></h1>
<p><strong>Generates stacked bar plots and crosstabs for specified columns in a DataFrame.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot</span></code> function is a versatile tool for generating stacked bar plots and contingency tables (crosstabs) from a pandas DataFrame. This function is particularly useful for visualizing categorical data across multiple columns, allowing users to easily compare distributions and relationships between variables. It offers extensive customization options, including control over plot appearance, color schemes, and the ability to save plots in multiple formats.</p>
<p>The function also supports generating both regular and normalized stacked bar plots, with the option to return the generated crosstabs as a dictionary for further analysis.</p>
<dl class="py function">
<dt class="sig sig-object py" id="stacked_crosstab_plot">
<span class="sig-name descname"><span class="pre">stacked_crosstab_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_labels_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bar'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_png</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_svg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_stacks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#stacked_crosstab_plot" title="Link to this definition"></a></dt>
<dd><p>Generates stacked or regular bar plots and crosstabs for specified columns.</p>
<p>This function allows users to create stacked bar plots (or regular bar plots
if stacks are removed) and corresponding crosstabs for specific columns
in a DataFrame. It provides options to customize the appearance, including
font sizes for axis labels, tick labels, and title text wrapping, and to
choose between regular or normalized plots.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame containing the data to plot.</p></li>
<li><p><strong>col</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the column in the DataFrame to be analyzed.</p></li>
<li><p><strong>func_col</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – List of ground truth columns to be analyzed.</p></li>
<li><p><strong>legend_labels_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – List of legend labels for each ground truth column.</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – List of titles for the plots.</p></li>
<li><p><strong>kind</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The kind of plot to generate (<code class="docutils literal notranslate"><span class="pre">'bar'</span></code> or <code class="docutils literal notranslate"><span class="pre">'barh'</span></code> for horizontal bars), default is <code class="docutils literal notranslate"><span class="pre">'bar'</span></code>.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The width of the bars in the bar plot, default is <code class="docutils literal notranslate"><span class="pre">0.9</span></code>.</p></li>
<li><p><strong>rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The rotation angle of the <code class="docutils literal notranslate"><span class="pre">x-axis</span></code> labels, default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>custom_order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Specifies a custom order for the categories in the <code class="docutils literal notranslate"><span class="pre">col</span></code>.</p></li>
<li><p><strong>image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path where generated PNG plot images will be saved.</p></li>
<li><p><strong>image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path where generated SVG plot images will be saved.</p></li>
<li><p><strong>save_formats</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – List of file formats to save the plot images in.</p></li>
<li><p><strong>color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – List of colors to use for the plots. If not provided, a default color scheme is used.</p></li>
<li><p><strong>output</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Specify the output type: <code class="docutils literal notranslate"><span class="pre">&quot;plots_only&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;crosstabs_only&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p><strong>return_dict</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Specify whether to return the crosstabs dictionary, default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The width of the figure.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The height of the figure.</p></li>
<li><p><strong>p</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The padding between the subplots.</p></li>
<li><p><strong>file_prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Prefix for the filename when output includes plots.</p></li>
<li><p><strong>logscale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Apply log scale to the <code class="docutils literal notranslate"><span class="pre">y-axis</span></code>, default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>plot_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Specify the type of plot to generate: <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;regular&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;normalized&quot;</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p><strong>show_legend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Specify whether to show the legend, default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>label_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis labels, default is <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p></li>
<li><p><strong>tick_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for tick labels on the axes, default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>text_wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum width of the title text before wrapping, default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>remove_stacks</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, removes stacks and creates a regular bar plot using only the <code class="docutils literal notranslate"><span class="pre">col</span></code> parameter. Only works when <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">'regular'</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>xlim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <code class="docutils literal notranslate"><span class="pre">x-axis</span></code> as a tuple or list of (<cite>min, max</cite>).</p></li>
<li><p><strong>ylim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <code class="docutils literal notranslate"><span class="pre">y-axis</span></code> as a tuple or list of (<cite>min, max</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – <ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">output</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;plots_only&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;crosstabs_only&quot;</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;regular&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;normalized&quot;</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">remove_stacks</span></code> is set to True and <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is not <code class="docutils literal notranslate"><span class="pre">&quot;regular&quot;</span></code>.</p></li>
<li><p>If the lengths of <code class="docutils literal notranslate"><span class="pre">title</span></code>, <code class="docutils literal notranslate"><span class="pre">func_col</span></code>, and <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> are not equal.</p></li>
</ul>
</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.13)"><strong>KeyError</strong></a> – If any columns specified in <code class="docutils literal notranslate"><span class="pre">col</span></code> or <code class="docutils literal notranslate"><span class="pre">func_col</span></code> are missing in the DataFrame.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary of crosstabs DataFrames if <code class="docutils literal notranslate"><span class="pre">return_dict</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>. Otherwise, returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<section id="stacked-bar-plots-with-crosstabs-example">
<h2>Stacked Bar Plots With Crosstabs Example<a class="headerlink" href="#stacked-bar-plots-with-crosstabs-example" title="Link to this heading"></a></h2>
<p>The provided code snippet demonstrates how to use the <code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot</span></code>
function to generate stacked bar plots and corresponding crosstabs for different
columns in a DataFrame. Here’s a detailed breakdown of the code using the census
dataset as an example <a class="footnote-reference brackets" href="#id23" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>First, the <code class="docutils literal notranslate"><span class="pre">func_col</span></code> list is defined, specifying the columns <code class="docutils literal notranslate"><span class="pre">[&quot;sex&quot;,</span> <span class="pre">&quot;income&quot;]</span></code>
to be analyzed. These columns will be used in the loop to generate separate plots.
The <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> is then defined, with each entry corresponding to a
column in <code class="docutils literal notranslate"><span class="pre">func_col</span></code>. In this case, the labels for the <code class="docutils literal notranslate"><span class="pre">sex</span></code> column are
<code class="docutils literal notranslate"><span class="pre">[&quot;Male&quot;,</span> <span class="pre">&quot;Female&quot;]</span></code>, and for the <code class="docutils literal notranslate"><span class="pre">income</span></code> column, they are <code class="docutils literal notranslate"><span class="pre">[&quot;&lt;=50K&quot;,</span> <span class="pre">&quot;&gt;50K&quot;]</span></code>.
These labels will be used to annotate the legends of the plots.</p>
<p>Next, the <code class="docutils literal notranslate"><span class="pre">title</span></code> list is defined, providing titles for each plot corresponding
to the columns in <code class="docutils literal notranslate"><span class="pre">func_col</span></code>. The titles are set to <code class="docutils literal notranslate"><span class="pre">[&quot;Sex&quot;,</span> <span class="pre">&quot;Income&quot;]</span></code>,
which will be displayed on top of each respective plot.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> parameter should be a list of lists, where each
inner list corresponds to the ground truth labels for the respective item in
the <code class="docutils literal notranslate"><span class="pre">func_col</span></code> list. Each element in the <code class="docutils literal notranslate"><span class="pre">func_col</span></code> list represents a
column in your DataFrame that you wish to analyze, and the corresponding
inner list in <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> should contain the labels that will be
used in the legend of your plots.</p>
</div>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the func_col to use in the loop in order of usage</span>
<span class="n">func_col</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span> <span class="s2">&quot;income&quot;</span><span class="p">]</span>

<span class="c1"># Define the legend_labels to use in the loop</span>
<span class="n">legend_labels_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;Male&quot;</span><span class="p">,</span> <span class="s2">&quot;Female&quot;</span><span class="p">],</span>  <span class="c1"># Corresponds to &quot;sex&quot;</span>
    <span class="p">[</span><span class="s2">&quot;&lt;=50K&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;50K&quot;</span><span class="p">],</span>   <span class="c1"># Corresponds to &quot;income&quot;</span>
<span class="p">]</span>

<span class="c1"># Define titles for the plots</span>
<span class="n">title</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Sex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Income&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Ensure that the number of elements in <code class="docutils literal notranslate"><span class="pre">func_col</span></code>, <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code>,
and <code class="docutils literal notranslate"><span class="pre">title</span></code> are the same. Each item in <code class="docutils literal notranslate"><span class="pre">func_col</span></code> must have a corresponding
list of labels in <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> and a title in <code class="docutils literal notranslate"><span class="pre">title</span></code>. This
consistency is essential for the function to correctly generate the plots
with the appropriate labels and titles.</p>
</div>
<p>In this example:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">func_col</span></code> contains two elements: <code class="docutils literal notranslate"><span class="pre">&quot;sex&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;income&quot;</span></code>. Each corresponds to a specific column in your DataFrame.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> is a nested list containing two inner lists:</p>
<blockquote>
<div><ul class="simple">
<li><p>The first inner list, <code class="docutils literal notranslate"><span class="pre">[&quot;Male&quot;,</span> <span class="pre">&quot;Female&quot;]</span></code>, corresponds to the <code class="docutils literal notranslate"><span class="pre">&quot;sex&quot;</span></code> column in <code class="docutils literal notranslate"><span class="pre">func_col</span></code>.</p></li>
<li><p>The second inner list, <code class="docutils literal notranslate"><span class="pre">[&quot;&lt;=50K&quot;,</span> <span class="pre">&quot;&gt;50K&quot;]</span></code>, corresponds to the <code class="docutils literal notranslate"><span class="pre">&quot;income&quot;</span></code> column in <code class="docutils literal notranslate"><span class="pre">func_col</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code> contains two elements: <code class="docutils literal notranslate"><span class="pre">&quot;Sex&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;Income&quot;</span></code>, which will be used as the titles for the respective plots.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you assign the function to a variable, the dictionary returned when
<code class="docutils literal notranslate"><span class="pre">return_dict=True</span></code> will be suppressed in the output. However, the dictionary
is still available within the assigned variable for further use.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">stacked_crosstab_plot</span>

<span class="c1"># Call the stacked_crosstab_plot function</span>
<span class="n">stacked_crosstabs</span> <span class="o">=</span> <span class="n">stacked_crosstab_plot</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">col</span><span class="o">=</span><span class="s2">&quot;age_group&quot;</span><span class="p">,</span>
    <span class="n">func_col</span><span class="o">=</span><span class="n">func_col</span><span class="p">,</span>
    <span class="n">legend_labels_list</span><span class="o">=</span><span class="n">legend_labels_list</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="n">rot</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="c1"># axis rotation angle</span>
    <span class="n">custom_order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#00BFC4&quot;</span><span class="p">,</span> <span class="s2">&quot;#F8766D&quot;</span><span class="p">],</span> <span class="c1"># default color schema</span>
    <span class="n">output</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span>
    <span class="n">return_dict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">p</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">logscale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span>
    <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The above example generates stacked bar plots for <code class="docutils literal notranslate"><span class="pre">&quot;sex&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;income&quot;</span></code>
grouped by <code class="docutils literal notranslate"><span class="pre">&quot;education&quot;</span></code>. The plots are executed with legends, labels, and
tick sizes customized for clarity. The function returns a dictionary of
crosstabs for further analysis or export.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>Importance of Correctly Aligning Labels</strong></p>
<p>It is crucial to properly align the elements in the <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code>,
<code class="docutils literal notranslate"><span class="pre">title</span></code>, and <code class="docutils literal notranslate"><span class="pre">func_col</span></code> parameters when using the <code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot</span></code>
function. Each of these lists must be ordered consistently because the function
relies on their alignment to correctly assign labels and titles to the
corresponding plots and legends.</p>
<p><strong>For instance, in the example above:</strong></p>
<ul class="simple">
<li><p>The first element in <code class="docutils literal notranslate"><span class="pre">func_col</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;sex&quot;</span></code>, and it is aligned with the first set of labels <code class="docutils literal notranslate"><span class="pre">[&quot;Male&quot;,</span> <span class="pre">&quot;Female&quot;]</span></code> in <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> and the first title <code class="docutils literal notranslate"><span class="pre">&quot;Sex&quot;</span></code> in the <code class="docutils literal notranslate"><span class="pre">title</span></code> list.</p></li>
<li><p>Similarly, the second element in <code class="docutils literal notranslate"><span class="pre">func_col</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;income&quot;</span></code>, aligns with the labels <code class="docutils literal notranslate"><span class="pre">[&quot;&lt;=50K&quot;,</span> <span class="pre">&quot;&gt;50K&quot;]</span></code> and the title <code class="docutils literal notranslate"><span class="pre">&quot;Income&quot;</span></code>.</p></li>
</ul>
<p><strong>Misalignment between these lists would result in incorrect labels or titles being
applied to the plots, potentially leading to confusion or misinterpretation of the data.
Therefore, it’s important to ensure that each list is ordered appropriately and
consistently to accurately reflect the data being visualized.</strong></p>
<p><strong>Proper Setup of Lists</strong></p>
<p>When setting up the <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code>, <code class="docutils literal notranslate"><span class="pre">title</span></code>, and <code class="docutils literal notranslate"><span class="pre">func_col</span></code>, ensure
that each element in the lists corresponds to the correct variable in the DataFrame.
This involves:</p>
<ul class="simple">
<li><p><strong>Ordering</strong>: Maintaining the same order across all three lists to ensure that labels and titles correspond correctly to the data being plotted.</p></li>
<li><p><strong>Consistency</strong>: Double-checking that each label in <code class="docutils literal notranslate"><span class="pre">legend_labels_list</span></code> matches the categories present in the corresponding <code class="docutils literal notranslate"><span class="pre">func_col</span></code>, and that the <code class="docutils literal notranslate"><span class="pre">title</span></code> accurately describes the plot.</p></li>
</ul>
<p>By adhering to these guidelines, you can ensure that the <code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot</span></code>
function produces accurate and meaningful visualizations that are easy to interpret and analyze.</p>
</div>
<p><strong>Output</strong></p>
<div class="no-click"><a class="reference internal image-reference" href="_images/Stacked_Bar_Age_sex.svg"><img alt="KDE Distributions" class="align-center" src="_images/Stacked_Bar_Age_sex.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div><div class="no-click"><a class="reference internal image-reference" href="_images/Stacked_Bar_Age_income.svg"><img alt="Stacked Bar Plot Age vs. Income" class="align-center" src="_images/Stacked_Bar_Age_income.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you set <code class="docutils literal notranslate"><span class="pre">return_dict=True</span></code>, you are able to see the crosstabs printed out
as shown below.</p>
</div>
<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
overflow:hidden;padding:0px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
font-weight:normal;overflow:hidden;padding:0px 5px;word-break:normal;}
.tg .tg-mwxe{text-align:right;vertical-align:middle}
.tg .tg-p3ql{background-color:rgba(130, 130, 130, 0.08);text-align:right;vertical-align:middle}
.tg .tg-yla0{font-weight:bold;text-align:left;vertical-align:middle}
.tg .tg-7zrl{text-align:left;vertical-align:bottom}
.tg .tg-zt7h{font-weight:bold;text-align:right;vertical-align:middle}
.tg .tg-k750{background-color:rgba(130, 130, 130, 0.08);font-weight:bold;text-align:right;vertical-align:middle}
@media screen and (max-width: 767px) {.tg {width: auto !important;}.tg col {width: auto !important;}.tg-wrap {overflow-x: auto;-webkit-overflow-scrolling: touch;margin: auto 0px;}}
</style>
<div class="tg-wrap"><table class="tg"><thead>
<tr>
    <th class="tg-yla0" colspan="6">Crosstab for sex</th>
</tr>
<tr style="height: 10px;"><!-- Added empty row for spacing -->
    <td colspan="6" style="border: none;"></td>
</tr>
</thead>
<tbody>
<tr>
    <td class="tg-zt7h">sex</td>
    <td class="tg-zt7h">Female</td>
    <td class="tg-zt7h">Male</td>
    <td class="tg-zt7h">Total</td>
    <td class="tg-zt7h">Female_%</td>
    <td class="tg-zt7h">Male_%</td>
</tr>
<tr>
    <td class="tg-k750">age_group</td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
</tr>
<tr>
    <td class="tg-mwxe">&lt; 18</td>
    <td class="tg-mwxe">295</td>
    <td class="tg-mwxe">300</td>
    <td class="tg-mwxe">595</td>
    <td class="tg-mwxe">49.58</td>
    <td class="tg-mwxe">50.42</td>
</tr>
<tr>
    <td class="tg-p3ql">18-29</td>
    <td class="tg-p3ql">5707</td>
    <td class="tg-p3ql">8213</td>
    <td class="tg-p3ql">13920</td>
    <td class="tg-p3ql">41</td>
    <td class="tg-p3ql">59</td>
</tr>
<tr>
    <td class="tg-mwxe">30-39</td>
    <td class="tg-mwxe">3853</td>
    <td class="tg-mwxe">9076</td>
    <td class="tg-mwxe">12929</td>
    <td class="tg-mwxe">29.8</td>
    <td class="tg-mwxe">70.2</td>
</tr>
<tr>
    <td class="tg-p3ql">40-49</td>
    <td class="tg-p3ql">3188</td>
    <td class="tg-p3ql">7536</td>
    <td class="tg-p3ql">10724</td>
    <td class="tg-p3ql">29.73</td>
    <td class="tg-p3ql">70.27</td>
</tr>
<tr>
    <td class="tg-mwxe">50-59</td>
    <td class="tg-mwxe">1873</td>
    <td class="tg-mwxe">4746</td>
    <td class="tg-mwxe">6619</td>
    <td class="tg-mwxe">28.3</td>
    <td class="tg-mwxe">71.7</td>
</tr>
<tr>
    <td class="tg-p3ql">60-69</td>
    <td class="tg-p3ql">939</td>
    <td class="tg-p3ql">2115</td>
    <td class="tg-p3ql">3054</td>
    <td class="tg-p3ql">30.75</td>
    <td class="tg-p3ql">69.25</td>
</tr>
<tr>
    <td class="tg-mwxe">70-79</td>
    <td class="tg-mwxe">280</td>
    <td class="tg-mwxe">535</td>
    <td class="tg-mwxe">815</td>
    <td class="tg-mwxe">34.36</td>
    <td class="tg-mwxe">65.64</td>
</tr>
<tr>
    <td class="tg-p3ql">80-89</td>
    <td class="tg-p3ql">40</td>
    <td class="tg-p3ql">91</td>
    <td class="tg-p3ql">131</td>
    <td class="tg-p3ql">30.53</td>
    <td class="tg-p3ql">69.47</td>
</tr>
<tr>
    <td class="tg-mwxe">90-99</td>
    <td class="tg-mwxe">17</td>
    <td class="tg-mwxe">38</td>
    <td class="tg-mwxe">55</td>
    <td class="tg-mwxe">30.91</td>
    <td class="tg-mwxe">69.09</td>
</tr>
<tr>
    <td class="tg-p3ql">Total</td>
    <td class="tg-p3ql">16192</td>
    <td class="tg-p3ql">32650</td>
    <td class="tg-p3ql">48842</td>
    <td class="tg-p3ql">33.15</td>
    <td class="tg-p3ql">66.85</td>
</tr>
<tr style="height: 10px;"><!-- Added empty row for spacing -->
    <td colspan="6" style="border: none;"></td>
</tr>
<tr>
    <th class="tg-yla0" colspan="6">Crosstab for income</th>
</tr>
<tr style="height: 10px;"><!-- Added empty row for spacing -->
    <td colspan="6" style="border: none;"></td>
</tr>
<tr>
    <td class="tg-zt7h">income</td>
    <td class="tg-zt7h">&lt;=50K</td>
    <td class="tg-zt7h">&gt;50K</td>
    <td class="tg-zt7h">Total</td>
    <td class="tg-zt7h">&lt;=50K_%</td>
    <td class="tg-zt7h">&gt;50K_%</td>
</tr>
<tr>
    <td class="tg-k750">age_group</td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
    <td class="tg-k750"> </td>
</tr>
<tr>
    <td class="tg-mwxe">&lt; 18</td>
    <td class="tg-mwxe">595</td>
    <td class="tg-mwxe">0</td>
    <td class="tg-mwxe">595</td>
    <td class="tg-mwxe">100</td>
    <td class="tg-mwxe">0</td>
</tr>
<tr>
    <td class="tg-p3ql">18-29</td>
    <td class="tg-p3ql">13174</td>
    <td class="tg-p3ql">746</td>
    <td class="tg-p3ql">13920</td>
    <td class="tg-p3ql">94.64</td>
    <td class="tg-p3ql">5.36</td>
</tr>
<tr>
    <td class="tg-mwxe">30-39</td>
    <td class="tg-mwxe">9468</td>
    <td class="tg-mwxe">3461</td>
    <td class="tg-mwxe">12929</td>
    <td class="tg-mwxe">73.23</td>
    <td class="tg-mwxe">26.77</td>
</tr>
<tr>
    <td class="tg-p3ql">40-49</td>
    <td class="tg-p3ql">6738</td>
    <td class="tg-p3ql">3986</td>
    <td class="tg-p3ql">10724</td>
    <td class="tg-p3ql">62.83</td>
    <td class="tg-p3ql">37.17</td>
</tr>
<tr>
    <td class="tg-mwxe">50-59</td>
    <td class="tg-mwxe">4110</td>
    <td class="tg-mwxe">2509</td>
    <td class="tg-mwxe">6619</td>
    <td class="tg-mwxe">62.09</td>
    <td class="tg-mwxe">37.91</td>
</tr>
<tr>
    <td class="tg-p3ql">60-69</td>
    <td class="tg-p3ql">2245</td>
    <td class="tg-p3ql">809</td>
    <td class="tg-p3ql">3054</td>
    <td class="tg-p3ql">73.51</td>
    <td class="tg-p3ql">26.49</td>
</tr>
<tr>
    <td class="tg-mwxe">70-79</td>
    <td class="tg-mwxe">668</td>
    <td class="tg-mwxe">147</td>
    <td class="tg-mwxe">815</td>
    <td class="tg-mwxe">81.96</td>
    <td class="tg-mwxe">18.04</td>
</tr>
<tr>
    <td class="tg-p3ql">80-89</td>
    <td class="tg-p3ql">115</td>
    <td class="tg-p3ql">16</td>
    <td class="tg-p3ql">131</td>
    <td class="tg-p3ql">87.79</td>
    <td class="tg-p3ql">12.21</td>
</tr>
<tr>
    <td class="tg-mwxe">90-99</td>
    <td class="tg-mwxe">42</td>
    <td class="tg-mwxe">13</td>
    <td class="tg-mwxe">55</td>
    <td class="tg-mwxe">76.36</td>
    <td class="tg-mwxe">23.64</td>
</tr>
<tr>
    <td class="tg-p3ql">Total</td>
    <td class="tg-p3ql">37155</td>
    <td class="tg-p3ql">11687</td>
    <td class="tg-p3ql">48842</td>
    <td class="tg-p3ql">76.07</td>
    <td class="tg-p3ql">23.93</td>
</tr>
</tbody></table></div><p></p>
<p>When you set <code class="docutils literal notranslate"><span class="pre">return_dict=True</span></code>, you can access these crosstabs as
DataFrames by assigning them to their own vriables. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">crosstab_age_sex</span> <span class="o">=</span> <span class="n">crosstabs_dict</span><span class="p">[</span><span class="s2">&quot;sex&quot;</span><span class="p">]</span>
<span class="n">crosstab_age_income</span> <span class="o">=</span> <span class="n">crosstabs_dict</span><span class="p">[</span><span class="s2">&quot;income&quot;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="pivoted-stacked-bar-plots-example">
<h2>Pivoted Stacked Bar Plots Example<a class="headerlink" href="#pivoted-stacked-bar-plots-example" title="Link to this heading"></a></h2>
<p>Using the census dataset <a class="footnote-reference brackets" href="#id23" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, to create horizontal stacked bar plots, set the <code class="docutils literal notranslate"><span class="pre">kind</span></code> parameter to
<code class="docutils literal notranslate"><span class="pre">&quot;barh&quot;</span></code> in the <code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot</span> <span class="pre">function</span></code>. This option pivots the
standard vertical stacked bar plot into a horizontal orientation, making it easier
to compare categories when there are many labels on the <code class="docutils literal notranslate"><span class="pre">y-axis</span></code>.</p>
<div class="no-click"><a class="reference internal image-reference" href="_images/Stacked_Bar_Age_income_pivoted.svg"><img alt="Stacked Bar Plot Age vs. Income (Pivoted)" class="align-center" src="_images/Stacked_Bar_Age_income_pivoted.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="non-normalized-stacked-bar-plots-example">
<h2>Non-Normalized Stacked Bar Plots Example<a class="headerlink" href="#non-normalized-stacked-bar-plots-example" title="Link to this heading"></a></h2>
<p>In the census data <a class="footnote-reference brackets" href="#id23" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, to create stacked bar plots without the normalized versions,
set the <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">&quot;regular&quot;</span></code> in the <code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot</span></code>
function. This option removes the display of normalized plots beneath the regular
versions. Alternatively, setting the <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;normalized&quot;</span></code> will display
only the normalized plots. The example below demonstrates regular stacked bar plots
for income by age.</p>
<div class="no-click"><a class="reference internal image-reference" href="_images/Stacked_Bar_Age_income_regular.svg"><img alt="Stacked Bar Plot Age vs. Income (Regular)" class="align-center" src="_images/Stacked_Bar_Age_income_regular.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="regular-non-stacked-bar-plots-example">
<h2>Regular Non-Stacked Bar Plots Example<a class="headerlink" href="#regular-non-stacked-bar-plots-example" title="Link to this heading"></a></h2>
<p>In the census data <a class="footnote-reference brackets" href="#id23" id="id13" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, to generate regular (non-stacked) bar plots without
displaying their normalized versions, set the <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">&quot;regular&quot;</span></code>
in the <code class="docutils literal notranslate"><span class="pre">stacked_crosstab_plot</span></code> function and enable <code class="docutils literal notranslate"><span class="pre">remove_stacks</span></code> by setting
it to <code class="docutils literal notranslate"><span class="pre">True</span></code>. This configuration removes any stacked elements and prevents the
display of normalized plots beneath the regular versions. Alternatively, setting
<code class="docutils literal notranslate"><span class="pre">plot_type</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;normalized&quot;</span></code> will display only the normalized plots.</p>
<p>When unstacking bar plots in this fashion, the distribution is aligned in descending
order, making it easier to visualize the most prevalent categories.</p>
<p>In the example below, the color of the bars has been set to a dark grey (<code class="docutils literal notranslate"><span class="pre">#333333</span></code>),
and the legend has been removed by setting <code class="docutils literal notranslate"><span class="pre">show_legend=False</span></code>. This illustrates
regular bar plots for income by age, without stacking.</p>
<div class="no-click"><a class="reference internal image-reference" href="_images/Bar_Age_regular_income.svg"><img alt="Bar Plot Age vs. Income (Regular)" class="align-center" src="_images/Bar_Age_regular_income.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
</section>
<section id="box-and-violin-plots">
<h1>Box and Violin Plots<a class="headerlink" href="#box-and-violin-plots" title="Link to this heading"></a></h1>
<p><strong>Create and save individual boxplots or violin plots, an entire grid of plots,
or both for given metrics and comparisons.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">box_violin_plot</span></code> function is designed to generate both individual and grid
plots of boxplots or violin plots for a set of specified metrics against comparison
categories within a DataFrame. This function offers flexibility in how the plots are
presented and saved, allowing users to create detailed visualizations that highlight
the distribution of metrics across different categories.</p>
<p>With options to customize the plot type (<code class="docutils literal notranslate"><span class="pre">boxplot</span></code> or <code class="docutils literal notranslate"><span class="pre">violinplot</span></code>),
axis label rotation, figure size, and whether to display or save the plots, this
function can be adapted for a wide range of data visualization needs. Users can
choose to display individual plots, a grid of plots, or both, depending on the
requirements of their analysis.</p>
<p>Additionally, the function includes features for rotating the plots, adjusting
the font sizes of labels, and selectively showing or hiding legends. It also
supports the automatic saving of plots in either PNG or SVG format, depending on
the specified paths, making it a powerful tool for producing publication-quality
figures.</p>
<p>The function is particularly useful in scenarios where the user needs to compare
the distribution of multiple metrics across different categories, enabling a
clear visual analysis of how these metrics vary within the dataset.</p>
<dl class="py function">
<dt class="sig sig-object py" id="box_violin_plot">
<span class="sig-name descname"><span class="pre">box_violin_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_boxplot_comp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_rows</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_png</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_svg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'boxplot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel_rot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">individual_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(6,</span> <span class="pre">4)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#box_violin_plot" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame containing the data to plot.</p></li>
<li><p><strong>metrics_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – List of metric names (columns in df) to plot.</p></li>
<li><p><strong>metrics_boxplot_comp</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – List of comparison categories (columns in df).</p></li>
<li><p><strong>n_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of rows in the subplot grid.</p></li>
<li><p><strong>n_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of columns in the subplot grid.</p></li>
<li><p><strong>image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Optional directory path to save <code class="docutils literal notranslate"><span class="pre">.png</span></code> images.</p></li>
<li><p><strong>image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Optional directory path to save <code class="docutils literal notranslate"><span class="pre">.svg</span></code> images.</p></li>
<li><p><strong>save_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – String, <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code> to control saving plots.</p></li>
<li><p><strong>show_legend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Boolean, True if showing the legend in the plots.</p></li>
<li><p><strong>plot_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Specify the type of plot, either <code class="docutils literal notranslate"><span class="pre">&quot;boxplot&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;violinplot&quot;</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">&quot;boxplot&quot;</span></code>.</p></li>
<li><p><strong>xlabel_rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Rotation angle for <code class="docutils literal notranslate"><span class="pre">x-axis</span></code> labels. Default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>show_plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Specify the plot display mode: <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p><strong>rotate_plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Boolean, True if rotating (pivoting) the plots.</p></li>
<li><p><strong>individual_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Width and height of the figure for individual plots. Default is (<code class="docutils literal notranslate"><span class="pre">6,</span> <span class="pre">4</span></code>).</p></li>
<li><p><strong>grid_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Width and height of the figure for grid plots.</p></li>
<li><p><strong>label_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis labels. Default is <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p></li>
<li><p><strong>tick_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis tick labels. Default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>text_wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum width of the title text before wrapping. Default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>xlim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <code class="docutils literal notranslate"><span class="pre">x-axis</span></code> as a tuple or list of (<cite>min, max</cite>).</p></li>
<li><p><strong>ylim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <code class="docutils literal notranslate"><span class="pre">y-axis</span></code> as a tuple or list of (<cite>min, max</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – <ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">show_plot</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_plots</span></code> is not one of None, <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_plots</span></code> is set without specifying <code class="docutils literal notranslate"><span class="pre">image_path_png</span></code> or <code class="docutils literal notranslate"><span class="pre">image_path_svg</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">rotate_plot</span></code> is not a boolean value.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">individual_figsize</span></code> is not a tuple or list of two numbers.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">grid_figsize</span></code> is specified but is not a tuple or list of two numbers.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<p>This function provides the ability to create and save boxplots or violin plots for specified metrics and comparison categories. It supports the generation of individual plots, a grid of plots, or both. Users can customize the appearance, save the plots to specified directories, and control the display of legends and labels.</p>
<section id="box-plots-grid-example">
<h2>Box Plots Grid Example<a class="headerlink" href="#box-plots-grid-example" title="Link to this heading"></a></h2>
<p>In this example with the US census data <a class="footnote-reference brackets" href="#id23" id="id14" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, the box_violin_plot function is employed to create a grid of
boxplots, comparing different metrics against the <code class="docutils literal notranslate"><span class="pre">&quot;age_group&quot;</span></code> column in the
DataFrame. The <code class="docutils literal notranslate"><span class="pre">metrics_boxplot_comp</span></code> parameter is set to [<code class="docutils literal notranslate"><span class="pre">&quot;age_group&quot;</span></code>], meaning
that the comparison will be based on different age groups. The <code class="docutils literal notranslate"><span class="pre">metrics_list</span></code> is
provided as <code class="docutils literal notranslate"><span class="pre">age_boxplot_list</span></code>, which contains the specific metrics to be visualized.
The function is configured to arrange the plots in a grid format with <cite>3</cite> rows and <cite>4</cite>
columns, using the <code class="docutils literal notranslate"><span class="pre">n_rows=3</span></code> and <code class="docutils literal notranslate"><span class="pre">n_cols=4</span></code> parameters. The <code class="docutils literal notranslate"><span class="pre">image_path_png</span></code> and
<code class="docutils literal notranslate"><span class="pre">image_path_svg</span></code> parameters are specified to save the plots in both PNG and
SVG formats, and the save_plots option is set to <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>, ensuring that both
individual and grid plots are saved.</p>
<p>The plots are displayed in a grid format, as indicated by the <code class="docutils literal notranslate"><span class="pre">show_plot=&quot;grid&quot;</span></code>
parameter. The <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;boxplot&quot;</span></code>, so the function will generate
boxplots for each metric in the list. Additionally, the <code class="docutils literal notranslate"><span class="pre">`x-axis`</span></code> labels are rotated
by 90 degrees (<code class="docutils literal notranslate"><span class="pre">xlabel_rot=90</span></code>) to ensure that the labels are legible. The legend is
hidden by setting <code class="docutils literal notranslate"><span class="pre">show_legend=False</span></code>, keeping the plots clean and focused on the data.
This configuration provides a comprehensive visual comparison of the specified
metrics across different age groups, with all plots saved for future reference or publication.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">age_boxplot_list</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;education-num&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hours-per-week&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">box_violin_plot</span>

<span class="n">metrics_boxplot_comp</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;age_group&quot;</span><span class="p">]</span>

<span class="n">box_violin_plot</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">metrics_list</span><span class="o">=</span><span class="n">age_boxplot_list</span><span class="p">,</span>
    <span class="n">metrics_boxplot_comp</span><span class="o">=</span><span class="n">metrics_boxplot_comp</span><span class="p">,</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">image_path_svg</span><span class="o">=</span><span class="n">image_path_svg</span><span class="p">,</span>
    <span class="n">save_plots</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="n">show_plot</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span>
    <span class="n">show_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;boxplot&quot;</span><span class="p">,</span>
    <span class="n">xlabel_rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/all_plots_comparisons_boxplot.png"><img alt="Box Plot Comparisons" class="align-center" src="_images/all_plots_comparisons_boxplot.png" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="violin-plots-grid-example">
<h2>Violin Plots Grid Example<a class="headerlink" href="#violin-plots-grid-example" title="Link to this heading"></a></h2>
<p>In this example with the US census data <a class="footnote-reference brackets" href="#id23" id="id15" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, we keep everything the same as the prior example, but change the
<code class="docutils literal notranslate"><span class="pre">plot_type</span></code> to <code class="docutils literal notranslate"><span class="pre">violinplot</span></code>. This adjustment will generate violin plots instead
of boxplots while maintaining all other settings.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">box_violin_plot</span>

<span class="n">metrics_boxplot_comp</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;age_group&quot;</span><span class="p">]</span>

<span class="n">box_violin_plot</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">metrics_list</span><span class="o">=</span><span class="n">age_boxplot_list</span><span class="p">,</span>
    <span class="n">metrics_boxplot_comp</span><span class="o">=</span><span class="n">metrics_boxplot_comp</span><span class="p">,</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">image_path_svg</span><span class="o">=</span><span class="n">image_path_svg</span><span class="p">,</span>
    <span class="n">save_plots</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="n">show_plot</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span>
    <span class="n">show_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;violinplot&quot;</span><span class="p">,</span>
    <span class="n">xlabel_rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/all_plots_comparisons_violinplot.png"><img alt="Violin Plot Comparisons" class="align-center" src="_images/all_plots_comparisons_violinplot.png" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="pivoted-violin-plots-grid-example">
<h2>Pivoted Violin Plots Grid Example<a class="headerlink" href="#pivoted-violin-plots-grid-example" title="Link to this heading"></a></h2>
<p>In this example with the US census data <a class="footnote-reference brackets" href="#id23" id="id16" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, we set <code class="docutils literal notranslate"><span class="pre">xlabel_rot=0</span></code> and <code class="docutils literal notranslate"><span class="pre">rotate_plot=True</span></code>
to pivot the plot, changing the orientation of the axes while keeping the <code class="docutils literal notranslate"><span class="pre">`x-axis`</span></code> labels upright.
This adjustment flips the axes, providing a different perspective on the data distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">box_violin_plot</span>

<span class="n">metrics_boxplot_comp</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;age_group&quot;</span><span class="p">]</span>

<span class="n">box_violin_plot</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">metrics_list</span><span class="o">=</span><span class="n">age_boxplot_list</span><span class="p">,</span>
    <span class="n">metrics_boxplot_comp</span><span class="o">=</span><span class="n">metrics_boxplot_comp</span><span class="p">,</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">image_path_svg</span><span class="o">=</span><span class="n">image_path_svg</span><span class="p">,</span>
    <span class="n">save_plots</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="n">show_plot</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span>
    <span class="n">rotate_plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">show_legend</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;violinplot&quot;</span><span class="p">,</span>
    <span class="n">xlabel_rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/all_plots_comparisons_violinplot_pivoted.png"><img alt="Violin Plot Comparisons (Pivoted)" class="align-center" src="_images/all_plots_comparisons_violinplot_pivoted.png" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
</section>
<section id="scatter-plots-and-best-fit-lines">
<h1>Scatter Plots and Best Fit Lines<a class="headerlink" href="#scatter-plots-and-best-fit-lines" title="Link to this heading"></a></h1>
<section id="pearson-correlation-coefficient">
<h2>Pearson Correlation Coefficient<a class="headerlink" href="#pearson-correlation-coefficient" title="Link to this heading"></a></h2>
<p>The Pearson correlation coefficient, often denoted as <span class="math notranslate nohighlight">\(r\)</span>, is a measure of
the linear relationship between two variables. It quantifies the degree to which
a change in one variable is associated with a change in another variable. The
Pearson correlation ranges from <span class="math notranslate nohighlight">\(-1\)</span> to <span class="math notranslate nohighlight">\(1\)</span>, where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(r = 1\)</span> indicates a perfect positive linear relationship.</p></li>
<li><p><span class="math notranslate nohighlight">\(r = -1\)</span> indicates a perfect negative linear relationship.</p></li>
<li><p><span class="math notranslate nohighlight">\(r = 0\)</span> indicates no linear relationship.</p></li>
</ul>
<p>The Pearson correlation coefficient between two variables <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span> is defined as:</p>
<div class="math notranslate nohighlight">
\[r_{XY} = \frac{\text{Cov}(X, Y)}{\sigma_X \sigma_Y}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\text{Cov}(X, Y)\)</span> is the covariance of <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma_X\)</span> is the standard deviation of <span class="math notranslate nohighlight">\(X\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma_Y\)</span> is the standard deviation of <span class="math notranslate nohighlight">\(Y\)</span>.</p></li>
</ul>
<p>Covariance measures how much two variables change together. It is defined as:</p>
<div class="math notranslate nohighlight">
\[\text{Cov}(X, Y) = \frac{1}{n} \sum_{i=1}^{n} (X_i - \mu_X)(Y_i - \mu_Y)\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(n\)</span> is the number of data points.</p></li>
<li><p><span class="math notranslate nohighlight">\(X_i\)</span> and <span class="math notranslate nohighlight">\(Y_i\)</span> are the individual data points.</p></li>
<li><p><span class="math notranslate nohighlight">\(\mu_X\)</span> and <span class="math notranslate nohighlight">\(\mu_Y\)</span> are the means of <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span>.</p></li>
</ul>
<p>The standard deviation measures the dispersion or spread of a set of values. For
a variable <span class="math notranslate nohighlight">\(X\)</span>, the standard deviation <span class="math notranslate nohighlight">\(\sigma_X\)</span> is:</p>
<div class="math notranslate nohighlight">
\[\sigma_X = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (X_i - \mu_X)^2}\]</div>
<p>Substituting the covariance and standard deviation into the Pearson correlation formula:</p>
<div class="math notranslate nohighlight">
\[r_{XY} = \frac{\sum_{i=1}^{n} (X_i - \mu_X)(Y_i - \mu_Y)}{\sqrt{\sum_{i=1}^{n} (X_i - \mu_X)^2} \sqrt{\sum_{i=1}^{n} (Y_i - \mu_Y)^2}}\]</div>
<p>This formula normalizes the covariance by the product of the standard deviations of the two variables, resulting in a dimensionless coefficient that indicates the strength and direction of the linear relationship between <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span>.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(r &gt; 0\)</span>: Positive correlation. As <span class="math notranslate nohighlight">\(X\)</span> increases, <span class="math notranslate nohighlight">\(Y\)</span> tends to increase.</p></li>
<li><p><span class="math notranslate nohighlight">\(r &lt; 0\)</span>: Negative correlation. As <span class="math notranslate nohighlight">\(X\)</span> increases, <span class="math notranslate nohighlight">\(Y\)</span> tends to decrease.</p></li>
<li><p><span class="math notranslate nohighlight">\(r = 0\)</span>: No linear correlation. There is no consistent linear relationship between <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Y\)</span>.</p></li>
</ul>
<p>The closer the value of <span class="math notranslate nohighlight">\(r\)</span> is to <span class="math notranslate nohighlight">\(\pm 1\)</span>, the stronger the linear relationship between the two variables.</p>
</section>
<section id="scatter-fit-plot">
<h2>Scatter Fit Plot<a class="headerlink" href="#scatter-fit-plot" title="Link to this heading"></a></h2>
<p><strong>Create and Save Scatter Plots or a Grid of Scatter Plots</strong></p>
<p>This function, <code class="docutils literal notranslate"><span class="pre">scatter_fit_plot</span></code>, is designed to generate scatter plots for
one or more pairs of variables (<code class="docutils literal notranslate"><span class="pre">x_vars</span></code> and <code class="docutils literal notranslate"><span class="pre">y_vars</span></code>) from a given DataFrame.
The function can produce either individual scatter plots or organize multiple
scatter plots into a grid layout, making it easy to visualize relationships between
different pairs of variables in one cohesive view.</p>
<p><strong>Optional Best Fit Line</strong></p>
<p>An optional feature of this function is the ability to add a best fit line to the
scatter plots. This line, often called a regression line, is calculated using a
linear regression model and represents the trend in the data. By adding this line,
you can visually assess the linear relationship between the variables, and the
function can also display the equation of this line in the plot’s legend.s</p>
<p><strong>Customizable Plot Aesthetics</strong></p>
<p>The function offers a wide range of customization options to tailor the appearance
of the scatter plots:</p>
<ul class="simple">
<li><p><strong>Point Color</strong>: You can specify a default color for the scatter points or use a <code class="docutils literal notranslate"><span class="pre">hue</span></code> parameter to color the points based on a categorical variable. This allows for easy comparison across different groups within the data.</p></li>
<li><p><strong>Point Size</strong>: The size of the scatter points can be controlled and scaled based on another variable, which can help highlight differences or patterns related to that variable.</p></li>
<li><p><strong>Markers</strong>: The shape or style of the scatter points can also be customized. Whether you prefer circles, squares, or other marker types, the function allows you to choose the best representation for your data.</p></li>
</ul>
<p><strong>Axis and Label Configuration</strong></p>
<p>The function also provides flexibility in setting axis labels, tick marks, and grid sizes. You can rotate axis labels for better readability, adjust font sizes, and even specify limits for the x and y axes to focus on particular data ranges.</p>
<p><strong>Plot Display and Saving Options</strong></p>
<p>The function allows you to display plots individually, as a grid, or both. Additionally, you can save the generated plots as PNG or SVG files, making it easy to include them in reports or presentations.</p>
<p><strong>Correlation Coefficient Display</strong></p>
<p>For users interested in understanding the strength of the relationship between variables, the function can also display the Pearson correlation coefficient directly in the plot title. This numeric value provides a quick reference to the linear correlation between the variables, offering further insight into their relationship.</p>
<dl class="py function">
<dt class="sig sig-object py" id="scatter_fit_plot">
<span class="sig-name descname"><span class="pre">scatter_fit_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_vars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_vars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_rows</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_png</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_svg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel_rot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'both'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">individual_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(6,</span> <span class="pre">4)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_best_fit_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scatter_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_fit_linecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'red'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_fit_linestyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'o'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_correlation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scatter_fit_plot" title="Link to this definition"></a></dt>
<dd><p>Create and save scatter plots or a grid of scatter plots for given x_vars
and y_vars, with an optional best fit line and customizable point color,
size, and markers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame containing the data.</p></li>
<li><p><strong>x_vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – List of variable names to plot on the <cite>x-axis</cite>.</p></li>
<li><p><strong>y_vars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – List of variable names to plot on the <cite>y-axis</cite>.</p></li>
<li><p><strong>n_rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of rows in the subplot grid.</p></li>
<li><p><strong>n_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of columns in the subplot grid.</p></li>
<li><p><strong>image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save PNG images of the scatter plots.</p></li>
<li><p><strong>image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save SVG images of the scatter plots.</p></li>
<li><p><strong>save_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Controls which plots to save: <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>.</p></li>
<li><p><strong>show_legend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to display the legend on the plots. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>xlabel_rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Rotation angle for <cite>x-axis</cite> labels. Default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>show_plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Controls plot display: <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p><strong>rotate_plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to rotate (pivot) the plots. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>individual_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Width and height of the figure for individual plots. Default is <code class="docutils literal notranslate"><span class="pre">(6,</span> <span class="pre">4)</span></code>.</p></li>
<li><p><strong>grid_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Width and height of the figure for grid plots.</p></li>
<li><p><strong>label_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis labels. Default is <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p></li>
<li><p><strong>tick_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis tick labels. Default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>text_wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum width of the title text before wrapping, default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>add_best_fit_line</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to add a best fit line to the scatter plots. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>scatter_color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Color code for the scattered points. Default is <code class="docutils literal notranslate"><span class="pre">&quot;C0&quot;</span></code>.</p></li>
<li><p><strong>best_fit_linecolor</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Color code for the best fit line. Default is <code class="docutils literal notranslate"><span class="pre">&quot;red&quot;</span></code>.</p></li>
<li><p><strong>best_fit_linestyle</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Linestyle for the best fit line. Default is <code class="docutils literal notranslate"><span class="pre">&quot;-&quot;</span></code>.</p></li>
<li><p><strong>hue</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Column name for the grouping variable that will produce points with different colors.</p></li>
<li><p><strong>hue_palette</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Specifies colors for each hue level. Can be a dictionary mapping hue levels to colors, a list of colors, or the name of a seaborn color palette.</p></li>
<li><p><strong>size</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Column name for the grouping variable that will produce points with different sizes.</p></li>
<li><p><strong>sizes</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary mapping sizes (smallest and largest) to min and max values.</p></li>
<li><p><strong>marker</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Marker style used for the scatter points. Default is <code class="docutils literal notranslate"><span class="pre">&quot;o&quot;</span></code>.</p></li>
<li><p><strong>show_correlation</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to display the Pearson correlation coefficient in the plot title. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>xlim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <cite>x-axis</cite> as a tuple or list of (<cite>min, max</cite>).</p></li>
<li><p><strong>ylim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Limits for the <cite>y-axis</cite> as a tuple or list of (<cite>min, max</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – <ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">show_plot</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_plots</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_plots</span></code> is set but no image paths are provided.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">rotate_plot</span></code> is not a boolean value.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">individual_figsize</span></code> or <code class="docutils literal notranslate"><span class="pre">grid_figsize</span></code> are not tuples/lists with two numeric values.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>
This function does not return any value but generates and optionally saves scatter plots for the specified <cite>x_vars</cite> and <cite>y_vars</cite>.</p>
</dd>
</dl>
</dd></dl>

<section id="regression-centric-scatter-plots-example">
<h3>Regression-Centric Scatter Plots Example<a class="headerlink" href="#regression-centric-scatter-plots-example" title="Link to this heading"></a></h3>
<p>In this US census data <a class="footnote-reference brackets" href="#id23" id="id17" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> example, the <code class="docutils literal notranslate"><span class="pre">scatter_fit_plot</span></code> function is
configured to display the Pearson correlation coefficient and a best fit line
on each scatter plot. The correlation coefficient is shown in the plot title,
controlled by the <code class="docutils literal notranslate"><span class="pre">show_correlation=True</span></code> parameter, which provides a measure
of the strength and direction of the linear relationship between the variables.
Additionally, the <code class="docutils literal notranslate"><span class="pre">add_best_fit_line=True</span></code> parameter adds a best fit line to
each plot, with the equation for the line displayed in the legend. This equation,
along with the best fit line, helps to visually assess the relationship between
the variables, making it easier to identify trends and patterns in the data. The
combination of the correlation coefficient and the best fit line offers both
a quantitative and visual representation of the relationships, enhancing the
interpretability of the scatter plots.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">scatter_fit_plot</span>

<span class="n">scatter_fit_plot</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">x_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;education-num&quot;</span><span class="p">],</span>
    <span class="n">y_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hours-per-week&quot;</span><span class="p">],</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">image_path_svg</span><span class="o">=</span><span class="n">image_path_svg</span><span class="p">,</span>
    <span class="n">save_plots</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
    <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">xlabel_rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">show_plot</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
    <span class="n">rotate_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">grid_figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
    <span class="n">add_best_fit_line</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">scatter_color</span><span class="o">=</span><span class="s2">&quot;#808080&quot;</span><span class="p">,</span>
    <span class="n">show_correlation</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/scatter_plots_grid.png"><img alt="Scatter Plot Comparisons (with Best Fit Lines)" class="align-center" src="_images/scatter_plots_grid.png" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="scatter-plots-grouped-by-category-example">
<h3>Scatter Plots Grouped by Category Example<a class="headerlink" href="#scatter-plots-grouped-by-category-example" title="Link to this heading"></a></h3>
<p>In this example, the <code class="docutils literal notranslate"><span class="pre">scatter_fit_plot</span></code> function is used to generate a grid of
scatter plots that examine the relationships between <code class="docutils literal notranslate"><span class="pre">age</span></code> and <code class="docutils literal notranslate"><span class="pre">hours-per-week</span></code>
as well as <code class="docutils literal notranslate"><span class="pre">education-num</span></code> and <code class="docutils literal notranslate"><span class="pre">hours-per-week</span></code>. Compared to the previous
example, a few key inputs have been changed to adjust the appearance and functionality
of the plots:</p>
<ol class="arabic simple">
<li><p><strong>Hue and Hue Palette</strong>: The <code class="docutils literal notranslate"><span class="pre">hue</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">&quot;income&quot;</span></code>, meaning that the
data points in the scatter plots are colored according to the values in the <code class="docutils literal notranslate"><span class="pre">income</span></code>
column. A custom color mapping is provided via the <code class="docutils literal notranslate"><span class="pre">hue_palette</span></code> parameter, where the
income categories <code class="docutils literal notranslate"><span class="pre">&quot;&lt;=50K&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;&gt;50K&quot;</span></code> are assigned the colors <code class="docutils literal notranslate"><span class="pre">&quot;brown&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;green&quot;</span></code>, respectively. This change visually distinguishes the data points based on
income levels.</p></li>
<li><p><strong>Scatter Color</strong>: The <code class="docutils literal notranslate"><span class="pre">scatter_color</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">&quot;#808080&quot;</span></code>, which applies
a grey color to the scatter points when no <code class="docutils literal notranslate"><span class="pre">hue</span></code> is provided. However, since a <code class="docutils literal notranslate"><span class="pre">hue</span></code>
is specified in this example, the <code class="docutils literal notranslate"><span class="pre">hue_palette</span></code> takes precedence and overrides this color setting.</p></li>
<li><p><strong>Best Fit Line</strong>: The <code class="docutils literal notranslate"><span class="pre">add_best_fit_line</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, meaning that
no best fit line is added to the scatter plots. This differs from the previous example where
a best fit line was included.</p></li>
<li><p><strong>Correlation Coefficient</strong>: The <code class="docutils literal notranslate"><span class="pre">show_correlation</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, so the
Pearson correlation coefficient will not be displayed in the plot titles. This is another
change from the previous example where the correlation coefficient was included.</p></li>
<li><p><strong>Hue Legend</strong>: The <code class="docutils literal notranslate"><span class="pre">show_legend</span></code> parameter remains set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, ensuring that the
legend displaying the hue categories (<code class="docutils literal notranslate"><span class="pre">&quot;&lt;=50K&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;&gt;50K&quot;</span></code>) appears on the plots,
helping to interpret the color coding of the data points.</p></li>
</ol>
<p>These changes allow for the creation of scatter plots that highlight the income levels
of individuals, with custom color coding and without additional elements like a best
fit line or correlation coefficient. The resulting grid of plots is then saved as
images in the specified paths.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">scatter_fit_plot</span>

<span class="n">hue_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;&lt;=50K&quot;</span><span class="p">:</span> <span class="s2">&quot;brown&quot;</span><span class="p">,</span> <span class="s2">&quot;&gt;50K&quot;</span><span class="p">:</span> <span class="s2">&quot;green&quot;</span><span class="p">}</span>

<span class="n">scatter_fit_plot</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">x_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;education-num&quot;</span><span class="p">],</span>
    <span class="n">y_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hours-per-week&quot;</span><span class="p">],</span>
    <span class="n">n_rows</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">n_cols</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">image_path_svg</span><span class="o">=</span><span class="n">image_path_svg</span><span class="p">,</span>
    <span class="n">save_plots</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
    <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">xlabel_rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">show_plot</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
    <span class="n">rotate_plot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">grid_figsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
    <span class="n">add_best_fit_line</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">scatter_color</span><span class="o">=</span><span class="s2">&quot;#808080&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;income&quot;</span><span class="p">,</span>
    <span class="n">hue_palette</span><span class="o">=</span><span class="n">hue_dict</span><span class="p">,</span>
    <span class="n">show_correlation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/scatter_plots_grid_grouped.png"><img alt="Scatter Plot Comparisons (Grouped)" class="align-center" src="_images/scatter_plots_grid_grouped.png" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
</section>
</section>
<section id="correlation-matrices">
<h1>Correlation Matrices<a class="headerlink" href="#correlation-matrices" title="Link to this heading"></a></h1>
<p><strong>Generate and Save Customizable Correlation Heatmaps</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">flex_corr_matrix</span></code> function is designed to create highly customizable correlation heatmaps for visualizing the relationships between variables in a DataFrame. This function allows users to generate either a full or triangular correlation matrix, with options for annotation, color mapping, and saving the plot in multiple formats.</p>
<p><strong>Customizable Plot Appearance</strong></p>
<p>The function provides extensive customization options for the heatmap’s appearance:</p>
<ul class="simple">
<li><p><strong>Colormap Selection</strong>: Choose from a variety of colormaps to represent the strength of correlations. The default is <code class="docutils literal notranslate"><span class="pre">&quot;coolwarm&quot;</span></code>, but this can be adjusted to fit the needs of the analysis.</p></li>
<li><p><strong>Annotation</strong>: Optionally annotate the heatmap with correlation coefficients, making it easier to interpret the strength of relationships at a glance.</p></li>
<li><p><strong>Figure Size and Layout</strong>: Customize the dimensions of the heatmap to ensure it fits well within reports, presentations, or dashboards.</p></li>
</ul>
<p><strong>Triangular vs. Full Correlation Matrix</strong></p>
<p>A key feature of the <code class="docutils literal notranslate"><span class="pre">flex_corr_matrix</span></code> function is the ability to generate either a full correlation matrix or only the upper triangle. This option is particularly useful when the matrix is large, as it reduces visual clutter and focuses attention on the unique correlations.</p>
<p><strong>Label and Axis Configuration</strong></p>
<p>The function offers flexibility in configuring axis labels and titles:</p>
<ul class="simple">
<li><p><strong>Label Rotation</strong>: Rotate x-axis and y-axis labels for better readability, especially when working with long variable names.</p></li>
<li><p><strong>Font Sizes</strong>: Adjust the font sizes of labels and tick marks to ensure the plot is clear and readable.</p></li>
<li><p><strong>Title Wrapping</strong>: Control the wrapping of long titles to fit within the plot without overlapping other elements.</p></li>
</ul>
<p><strong>Plot Display and Saving Options</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">flex_corr_matrix</span></code> function allows you to display the heatmap directly or save it as PNG or SVG files for use in reports or presentations. If saving is enabled, you can specify file paths and names for the images.</p>
<dl class="py function">
<dt class="sig sig-object py" id="flex_corr_matrix">
<span class="sig-name descname"><span class="pre">flex_corr_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coolwarm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_png</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_svg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Cervical</span> <span class="pre">Cancer</span> <span class="pre">Data:</span> <span class="pre">Correlation</span> <span class="pre">Matrix'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel_rot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">45</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel_rot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel_alignment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'right'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel_alignment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'center_baseline'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Correlation</span> <span class="pre">Index'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">triangular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flex_corr_matrix" title="Link to this definition"></a></dt>
<dd><p>Create a customizable correlation heatmap with options for annotation, color mapping, figure size, and saving the plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – The DataFrame containing the data.</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – List of column names to include in the correlation matrix. If None, all columns are included.</p></li>
<li><p><strong>annot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to annotate the heatmap with correlation coefficients. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>cmap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The colormap to use for the heatmap. Default is <code class="docutils literal notranslate"><span class="pre">&quot;coolwarm&quot;</span></code>.</p></li>
<li><p><strong>save_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Controls whether to save the plots. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save PNG images of the heatmap.</p></li>
<li><p><strong>image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save SVG images of the heatmap.</p></li>
<li><p><strong>figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>, </em><em>optional</em>) – Width and height of the figure for the heatmap. Default is <code class="docutils literal notranslate"><span class="pre">(10,</span> <span class="pre">10)</span></code>.</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Title of the heatmap. Default is <code class="docutils literal notranslate"><span class="pre">&quot;Cervical</span> <span class="pre">Cancer</span> <span class="pre">Data:</span> <span class="pre">Correlation</span> <span class="pre">Matrix&quot;</span></code>.</p></li>
<li><p><strong>label_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for tick labels and colorbar label. Default is <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p></li>
<li><p><strong>tick_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis tick labels. Default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>xlabel_rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Rotation angle for x-axis labels. Default is <code class="docutils literal notranslate"><span class="pre">45</span></code>.</p></li>
<li><p><strong>ylabel_rot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Rotation angle for y-axis labels. Default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>xlabel_alignment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Horizontal alignment for x-axis labels. Default is <code class="docutils literal notranslate"><span class="pre">&quot;right&quot;</span></code>.</p></li>
<li><p><strong>ylabel_alignment</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Vertical alignment for y-axis labels. Default is <code class="docutils literal notranslate"><span class="pre">&quot;center_baseline&quot;</span></code>.</p></li>
<li><p><strong>text_wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum width of the title text before wrapping. Default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>vmin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Minimum value for the heatmap color scale. Default is <code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p></li>
<li><p><strong>vmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Maximum value for the heatmap color scale. Default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p><strong>cbar_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Label for the colorbar. Default is <code class="docutils literal notranslate"><span class="pre">&quot;Correlation</span> <span class="pre">Index&quot;</span></code>.</p></li>
<li><p><strong>triangular</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to show only the upper triangle of the correlation matrix. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – Additional keyword arguments to pass to <code class="docutils literal notranslate"><span class="pre">seaborn.heatmap()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – <ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">annot</span></code> is not a boolean.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">cols</span></code> is not a list.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_plots</span></code> is not a boolean.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">triangular</span></code> is not a boolean.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_plots</span></code> is True but no image paths are provided.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>
This function does not return any value but generates and optionally saves a correlation heatmap.</p>
</dd>
</dl>
</dd></dl>

<section id="triangular-correlation-matrix-example">
<h2>Triangular Correlation Matrix Example<a class="headerlink" href="#triangular-correlation-matrix-example" title="Link to this heading"></a></h2>
<p>The provided code filters the census <a class="footnote-reference brackets" href="#id23" id="id18" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> DataFrame <code class="docutils literal notranslate"><span class="pre">df</span></code> to include only numeric columns using
<code class="docutils literal notranslate"><span class="pre">select_dtypes(np.number)</span></code>. It then utilizes the <code class="docutils literal notranslate"><span class="pre">flex_corr_matrix()</span></code> function
to generate a right triangular correlation matrix, which only displays the
upper half of the correlation matrix. The heatmap is customized with specific
colormap settings, title, label sizes, axis label rotations, and other formatting
options.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This triangular matrix format is particularly useful for avoiding
redundancy in correlation matrices, as it excludes the lower half,
making it easier to focus on unique pairwise correlations.</p>
</div>
<p>The function also includes a labeled color bar, helping users quickly interpret
the strength and direction of the correlations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select only numeric data to pass into the function</span>
<span class="n">df_num</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">flex_corr_matrix</span>

<span class="n">flex_corr_matrix</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">cols</span><span class="o">=</span><span class="n">df_num</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span>
    <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;US Census Correlation Matrix&quot;</span><span class="p">,</span>
    <span class="n">xlabel_alignment</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
    <span class="n">xlabel_rot</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span>
    <span class="n">ylabel_rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">cbar_label</span><span class="o">=</span><span class="s2">&quot;Correlation Index&quot;</span><span class="p">,</span>
    <span class="n">triangular</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/us_census_correlation_matrix.svg"><img alt="Scatter Plot Comparisons (Grouped)" class="align-center" src="_images/us_census_correlation_matrix.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="full-correlation-matrix-example">
<h2>Full Correlation Matrix Example<a class="headerlink" href="#full-correlation-matrix-example" title="Link to this heading"></a></h2>
<p>In this modified census <a class="footnote-reference brackets" href="#id23" id="id19" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> example, the key changes are the use of the viridis colormap
and the decision to plot the full correlation matrix instead of just the upper
triangle. By setting <code class="docutils literal notranslate"><span class="pre">cmap=&quot;viridis&quot;</span></code>, the heatmap will use a different color
scheme, which can provide better visual contrast or align with specific aesthetic
preferences. Additionally, by setting <code class="docutils literal notranslate"><span class="pre">triangular=False</span></code>, the full correlation
matrix is displayed, allowing users to view all pairwise correlations, including
both upper and lower halves of the matrix. This approach is beneficial when you
want a comprehensive view of all correlations in the dataset.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">flex_corr_matrix</span>

<span class="n">flex_corr_matrix</span><span class="p">(</span>
    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
    <span class="n">cols</span><span class="o">=</span><span class="n">df_num</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span>
    <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;US Census Correlation Matrix&quot;</span><span class="p">,</span>
    <span class="n">xlabel_alignment</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
    <span class="n">xlabel_rot</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span>
    <span class="n">ylabel_rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">cbar_label</span><span class="o">=</span><span class="s2">&quot;Correlation Index&quot;</span><span class="p">,</span>
    <span class="n">triangular</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/us_census_correlation_matrix_full.svg"><img alt="Scatter Plot Comparisons (Grouped)" class="align-center" src="_images/us_census_correlation_matrix_full.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
</section>
<section id="partial-dependence-plots">
<h1>Partial Dependence Plots<a class="headerlink" href="#partial-dependence-plots" title="Link to this heading"></a></h1>
<p><strong>Partial Dependence Plots (PDPs)</strong> are a powerful tool in machine learning
interpretability, providing insights into how features influence the predicted
outcome of a model. PDPs can be generated in both 2D and 3D, depending on
whether you want to analyze the effect of one feature or the interaction between
two features on the model’s predictions.</p>
<section id="theoretical-foundation-of-pdps">
<h2>Theoretical Foundation of PDPs<a class="headerlink" href="#theoretical-foundation-of-pdps" title="Link to this heading"></a></h2>
<p>Let <span class="math notranslate nohighlight">\(\mathbf{X}\)</span> represent the complete set of input features for a machine
learning model, where <span class="math notranslate nohighlight">\(\mathbf{X} = \{X_1, X_2, \dots, X_p\}\)</span>. Suppose we’re
particularly interested in a subset of these features, denoted by <span class="math notranslate nohighlight">\(\mathbf{X}_S\)</span>.
The complementary set, <span class="math notranslate nohighlight">\(\mathbf{X}_C\)</span>, contains all the features in <span class="math notranslate nohighlight">\(\mathbf{X}\)</span>
that are not in <span class="math notranslate nohighlight">\(\mathbf{X}_S\)</span>. Mathematically, this relationship is expressed as:</p>
<div class="math notranslate nohighlight">
\[\mathbf{X}_C = \mathbf{X} \setminus \mathbf{X}_S\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathbf{X}_C\)</span> is the set of features in <span class="math notranslate nohighlight">\(\mathbf{X}\)</span> after
removing the features in <span class="math notranslate nohighlight">\(\mathbf{X}_S\)</span>.</p>
<p>Partial Dependence Plots (PDPs) are used to illustrate the effect of the features
in <span class="math notranslate nohighlight">\(\mathbf{X}_S\)</span> on the model’s predictions, while averaging out the
influence of the features in <span class="math notranslate nohighlight">\(\mathbf{X}_C\)</span>. This is mathematically defined as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align*}
\text{PD}_{\mathbf{X}_S}(x_S) &amp;= \mathbb{E}_{\mathbf{X}_C} \left[ f(x_S, \mathbf{X}_C) \right] \\
&amp;= \int f(x_S, x_C) \, p(x_C) \, dx_C \\
&amp;= \int \left( \int f(x_S, x_C) \, p(x_C \mid x_S) \, dx_C \right) p(x_S) \, dx_S
\end{align*}\end{split}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbb{E}_{\mathbf{X}_C} \left[ \cdot \right]\)</span> indicates that we are taking the expected value over the possible values of the features in the set <span class="math notranslate nohighlight">\(\mathbf{X}_C\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(p(x_C)\)</span> represents the probability density function of the features in <span class="math notranslate nohighlight">\(\mathbf{X}_C\)</span>.</p></li>
</ul>
<p>This operation effectively summarizes the model’s output over all potential values of the complementary features, providing a clear view of how the features in <span class="math notranslate nohighlight">\(\mathbf{X}_S\)</span> alone impact the model’s predictions.</p>
<p><strong>2D Partial Dependence Plots</strong></p>
<p>Consider a trained machine learning model <span class="math notranslate nohighlight">\(f(\mathbf{X})\)</span>, where <span class="math notranslate nohighlight">\(\mathbf{X} = (X_1, X_2, \dots, X_p)\)</span> represents the vector of input features. The partial dependence of the predicted response <span class="math notranslate nohighlight">\(\hat{y}\)</span> on a single feature <span class="math notranslate nohighlight">\(X_j\)</span> is defined as:</p>
<div class="math notranslate nohighlight">
\[\text{PD}(X_j) = \frac{1}{n} \sum_{i=1}^{n} f(X_j, \mathbf{X}_{C_i})\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(X_j\)</span> is the feature of interest.</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{X}_{C_i}\)</span> represents the complement set of <span class="math notranslate nohighlight">\(X_j\)</span>, meaning the remaining features in <span class="math notranslate nohighlight">\(\mathbf{X}\)</span> not included in <span class="math notranslate nohighlight">\(X_j\)</span> for the <span class="math notranslate nohighlight">\(i\)</span>-th instance.</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> is the number of observations in the dataset.</p></li>
</ul>
<p>For two features, <span class="math notranslate nohighlight">\(X_j\)</span> and <span class="math notranslate nohighlight">\(X_k\)</span>, the partial dependence is given by:</p>
<div class="math notranslate nohighlight">
\[\text{PD}(X_j, X_k) = \frac{1}{n} \sum_{i=1}^{n} f(X_j, X_k, \mathbf{X}_{C_i})\]</div>
<p>This results in a 2D surface plot (or contour plot) that shows how the predicted outcome changes as the values of <span class="math notranslate nohighlight">\(X_j\)</span> and <span class="math notranslate nohighlight">\(X_k\)</span> vary, while the effects of the other features are averaged out.</p>
<ul class="simple">
<li><p><strong>Single Feature PDP:</strong> When plotting <span class="math notranslate nohighlight">\(\text{PD}(X_j)\)</span>, the result is a 2D line plot showing the marginal effect of feature <span class="math notranslate nohighlight">\(X_j\)</span> on the predicted outcome, averaged over all possible values of the other features.</p></li>
<li><p><strong>Two Features PDP:</strong> When plotting <span class="math notranslate nohighlight">\(\text{PD}(X_j, X_k)\)</span>, the result is a 3D surface plot (or a contour plot) that shows the combined marginal effect of <span class="math notranslate nohighlight">\(X_j\)</span> and <span class="math notranslate nohighlight">\(X_k\)</span> on the predicted outcome. The surface represents the expected value of the prediction as <span class="math notranslate nohighlight">\(X_j\)</span> and <span class="math notranslate nohighlight">\(X_k\)</span> vary, while all other features are averaged out.</p></li>
</ul>
<p><strong>3D Partial Dependence Plots</strong></p>
<p>For a more comprehensive analysis, especially when exploring interactions between two features, 3D Partial Dependence Plots are invaluable. The partial dependence function for two features in a 3D context is:</p>
<div class="math notranslate nohighlight">
\[\text{PD}(X_j, X_k) = \frac{1}{n} \sum_{i=1}^{n} f(X_j, X_k, \mathbf{X}_{C_i})\]</div>
<p>Here, the function <span class="math notranslate nohighlight">\(f(X_j, X_k, \mathbf{X}_{C_i})\)</span> is evaluated across a grid of values for <span class="math notranslate nohighlight">\(X_j\)</span> and <span class="math notranslate nohighlight">\(X_k\)</span>. The resulting 3D surface plot represents how the model’s prediction changes over the joint range of these two features.</p>
<p>The 3D plot offers a more intuitive visualization of feature interactions compared to 2D contour plots, allowing for a better understanding of the combined effects of features on the model’s predictions. The surface plot is particularly useful when you need to capture complex relationships that might not be apparent in 2D.</p>
<ul class="simple">
<li><p><strong>Feature Interaction Visualization:</strong> The 3D PDP provides a comprehensive view of the interaction between two features. The resulting surface plot allows for the visualization of how the model’s output changes when the values of two features are varied simultaneously, making it easier to understand complex interactions.</p></li>
<li><p><strong>Enhanced Interpretation:</strong> 3D PDPs offer enhanced interpretability in scenarios where feature interactions are not linear or where the effect of one feature depends on the value of another. The 3D visualization makes these dependencies more apparent.</p></li>
</ul>
</section>
<section id="d-partial-dependence-plots">
<h2>2D Partial Dependence Plots<a class="headerlink" href="#d-partial-dependence-plots" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">plot_2d_pdp</span></code> function generates 2D partial dependence plots for individual features or pairs of features. These plots are essential for examining the marginal effect of features on the predicted outcome.</p>
<ul class="simple">
<li><p><strong>Grid and Individual Plots</strong>: Generate all 2D partial dependence plots in a grid layout or as separate individual plots, offering flexibility in presentation.</p></li>
<li><p><strong>Customization Options</strong>: Control the figure size, font sizes for labels and ticks, and the wrapping of long titles to ensure the plots are clear and informative.</p></li>
<li><p><strong>Saving Plots</strong>: The function provides options to save the plots in PNG or SVG formats, and you can specify whether to save all plots, only individual plots, or just the grid plot.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="plot_2d_pdp">
<span class="sig-name descname"><span class="pre">plot_2d_pdp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PDP</span> <span class="pre">of</span> <span class="pre">house</span> <span class="pre">value</span> <span class="pre">on</span> <span class="pre">CA</span> <span class="pre">non-location</span> <span class="pre">features'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(12,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">individual_figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(6,</span> <span class="pre">4)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_wrap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_png</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_svg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'partial_dependence'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_2d_pdp" title="Link to this definition"></a></dt>
<dd><p>Generate 2D partial dependence plots for specified features using the given machine learning model. The function allows for plotting in grid or individual layouts, with various customization options for figure size, font sizes, and title wrapping. Additionally, the plots can be saved in PNG or SVG formats with a customizable filename prefix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>estimator object</em>) – The trained machine learning model used to generate partial dependence plots.</p></li>
<li><p><strong>X_train</strong> (<em>pandas.DataFrame</em><em> or </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><em>numpy.ndarray</em></a>) – The training data used to compute partial dependence. Should correspond to the features used to train the model.</p></li>
<li><p><strong>feature_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – A list of feature names corresponding to the columns in <code class="docutils literal notranslate"><span class="pre">X_train</span></code>.</p></li>
<li><p><strong>features</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – A list of feature indices or tuples of feature indices for which to generate partial dependence plots.</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The title for the entire plot. Default is <code class="docutils literal notranslate"><span class="pre">&quot;PDP</span> <span class="pre">of</span> <span class="pre">house</span> <span class="pre">value</span> <span class="pre">on</span> <span class="pre">CA</span> <span class="pre">non-location</span> <span class="pre">features&quot;</span></code>.</p></li>
<li><p><strong>grid_resolution</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of grid points to use for plotting the partial dependence. Higher values provide smoother curves but may increase computation time. Default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>plot_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The type of plot to generate. Choose <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code> for a grid layout, <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code> for separate plots, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code> to generate both layouts. Default is <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>.</p></li>
<li><p><strong>grid_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>, </em><em>optional</em>) – Tuple specifying the width and height of the figure for the grid layout. Default is <code class="docutils literal notranslate"><span class="pre">(12,</span> <span class="pre">8)</span></code>.</p></li>
<li><p><strong>individual_figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>, </em><em>optional</em>) – Tuple specifying the width and height of the figure for individual plots. Default is <code class="docutils literal notranslate"><span class="pre">(6,</span> <span class="pre">4)</span></code>.</p></li>
<li><p><strong>label_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for the axis labels and titles. Default is <code class="docutils literal notranslate"><span class="pre">12</span></code>.</p></li>
<li><p><strong>tick_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for the axis tick labels. Default is <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p><strong>text_wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum width of the title text before wrapping. Useful for managing long titles. Default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The directory path where PNG images of the plots will be saved, if saving is enabled.</p></li>
<li><p><strong>image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The directory path where SVG images of the plots will be saved, if saving is enabled.</p></li>
<li><p><strong>save_plots</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Controls whether to save the plots. Options include <code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">None</span></code> (default). If saving is enabled, ensure <code class="docutils literal notranslate"><span class="pre">image_path_png</span></code> or <code class="docutils literal notranslate"><span class="pre">image_path_svg</span></code> are provided.</p></li>
<li><p><strong>file_prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Prefix for the filenames of the saved grid plots. Default is <code class="docutils literal notranslate"><span class="pre">&quot;partial_dependence&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – <ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">&quot;grid&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;individual&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">save_plots</span></code> is enabled but neither <code class="docutils literal notranslate"><span class="pre">image_path_png</span></code> nor <code class="docutils literal notranslate"><span class="pre">image_path_svg</span></code> is provided.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>
This function generates partial dependence plots and displays them. It does not return any values.</p>
</dd>
</dl>
</dd></dl>

<section id="d-plots-ca-housing-example">
<h3>2D Plots - CA Housing Example<a class="headerlink" href="#d-plots-ca-housing-example" title="Link to this heading"></a></h3>
<p>Consider a scenario where you have a machine learning model predicting median
house values in California. <a class="footnote-reference brackets" href="#id26" id="id20" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a> Suppose you want to understand how non-location
features like the average number of occupants per household (<code class="docutils literal notranslate"><span class="pre">AveOccup</span></code>) and the
age of the house (<code class="docutils literal notranslate"><span class="pre">HouseAge</span></code>) jointly influence house values. A 2D partial
dependence plot allows you to visualize this relationship in two ways: either as
individual plots for each feature or as a combined plot showing the interaction
between two features.</p>
<p>For instance, the 2D partial dependence plot can help you analyze how the age of
the house impacts house values while holding the number of occupants constant, or
vice versa. This is particularly useful for identifying the most influential
features and understanding how changes in these features might affect the
predicted house value.</p>
<p>If you extend this to two interacting features, such as <code class="docutils literal notranslate"><span class="pre">AveOccup</span></code> and <code class="docutils literal notranslate"><span class="pre">HouseAge</span></code>,
you can explore their combined effect on house prices. The plot can reveal how
different combinations of occupancy levels and house age influence the value,
potentially uncovering non-linear relationships or interactions that might not be
immediately obvious from a simple 1D analysis.</p>
<p>Here’s how you can generate and visualize these 2D partial dependence plots using
the California housing dataset:</p>
<p><strong>Fetch The CA Housing Dataset and Prepare The DataFrame</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">fetch_california_housing</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingRegressor</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Load the dataset</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fetch_california_housing</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Split The Data Into Training and Testing Sets</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Train a GradientBoostingRegressor Model</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">GradientBoostingRegressor</span><span class="p">(</span>
    <span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">loss</span><span class="o">=</span><span class="s2">&quot;huber&quot;</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Create 2D Partial Dependence Plot Grid</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the plot_2d_pdp function from</span>
<span class="c1"># the eda_toolkit library</span>
<span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">plot_2d_pdp</span>

<span class="c1"># Feature names</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">feature_names</span>

<span class="c1"># Generate 2D partial dependence plots</span>
<span class="n">plot_2d_pdp</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
    <span class="n">X_train</span><span class="o">=</span><span class="n">X_train</span><span class="p">,</span>
    <span class="n">feature_names</span><span class="o">=</span><span class="n">names</span><span class="p">,</span>
    <span class="n">features</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;MedInc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;AveOccup&quot;</span><span class="p">,</span>
        <span class="s2">&quot;HouseAge&quot;</span><span class="p">,</span>
        <span class="s2">&quot;AveRooms&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Population&quot;</span><span class="p">,</span>
        <span class="p">(</span><span class="s2">&quot;AveOccup&quot;</span><span class="p">,</span> <span class="s2">&quot;HouseAge&quot;</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;PDP of house value on CA non-location features&quot;</span><span class="p">,</span>
    <span class="n">grid_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="n">individual_figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="s2">&quot;path/to/save/png&quot;</span><span class="p">,</span>
    <span class="n">save_plots</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/2d_pdp_grid.svg"><img alt="Scatter Plot Comparisons (Grouped)" class="align-center" src="_images/2d_pdp_grid.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
</section>
<section id="id21">
<h2>3D Partial Dependence Plots<a class="headerlink" href="#id21" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">plot_3d_pdp</span></code> function extends the concept of partial dependence to three dimensions, allowing you to visualize the interaction between two features and their combined effect on the model’s predictions.</p>
<ul class="simple">
<li><p><strong>Interactive and Static 3D Plots</strong>: Generate static 3D plots using Matplotlib or interactive 3D plots using Plotly. The function also allows for generating both types simultaneously.</p></li>
<li><p><strong>Colormap and Layout Customization</strong>: Customize the colormaps for both Matplotlib and Plotly plots. Adjust figure size, camera angles, and zoom levels to create plots that fit perfectly within your presentation or report.</p></li>
<li><p><strong>Axis and Title Configuration</strong>: Customize axis labels for both Matplotlib and Plotly plots. Adjust font sizes and control the wrapping of long titles to maintain readability.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="plot_3d_pdp">
<span class="sig-name descname"><span class="pre">plot_3d_pdp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_names_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_label=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_label=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_label=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file_path=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">html_file_name=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_filename=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type=&quot;both&quot;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matplotlib_colormap=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotly_colormap=&quot;Viridis&quot;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom_out_factor=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wireframe_color=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_angle=(22</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">70)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize=(7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">4.5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_wrap=50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal=-1.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth=1.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical=1.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_x=1.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbar_thickness=25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_x=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_y=0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_margin=100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_png=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_path_svg=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_cbar=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_resolution=20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_margin=20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_margin=65</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_fontsize=8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tick_fontsize=6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_zoom=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_modebar=True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plot_3d_pdp" title="Link to this definition"></a></dt>
<dd><p>Generate 3D partial dependence plots for two features of a machine learning model.</p>
<p>This function supports both static (Matplotlib) and interactive (Plotly) visualizations, allowing for flexible and comprehensive analysis of the relationship between two features and the target variable in a model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>estimator object</em>) – The trained machine learning model used to generate partial dependence plots.</p></li>
<li><p><strong>dataframe</strong> (<em>pandas.DataFrame</em><em> or </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.1)"><em>numpy.ndarray</em></a>) – The dataset on which the model was trained or a representative sample. If a DataFrame is provided, <code class="docutils literal notranslate"><span class="pre">feature_names_list</span></code> should correspond to the column names. If a NumPy array is provided, <code class="docutils literal notranslate"><span class="pre">feature_names_list</span></code> should correspond to the indices of the columns.</p></li>
<li><p><strong>feature_names_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – A list of two feature names or indices corresponding to the features for which partial dependence plots are generated.</p></li>
<li><p><strong>x_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Label for the x-axis in the plots. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>y_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Label for the y-axis in the plots. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>z_label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Label for the z-axis in the plots. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The title for the plots.</p></li>
<li><p><strong>html_file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Path to save the interactive Plotly HTML file. Required if <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;interactive&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>html_file_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Name of the HTML file to save the interactive Plotly plot. Required if <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;interactive&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>image_filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Base filename for saving static Matplotlib plots as PNG and/or SVG. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>plot_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The type of plots to generate. Options are:
- <code class="docutils literal notranslate"><span class="pre">&quot;static&quot;</span></code>: Generate only static Matplotlib plots.
- <code class="docutils literal notranslate"><span class="pre">&quot;interactive&quot;</span></code>: Generate only interactive Plotly plots.
- <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>: Generate both static and interactive plots. Default is <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p><strong>matplotlib_colormap</strong> (<em>matplotlib.colors.Colormap</em><em>, </em><em>optional</em>) – Custom colormap for the Matplotlib plot. If not provided, a default colormap is used.</p></li>
<li><p><strong>plotly_colormap</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Colormap for the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">&quot;Viridis&quot;</span></code>.</p></li>
<li><p><strong>zoom_out_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Factor to adjust the zoom level of the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>wireframe_color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Color for the wireframe in the Matplotlib plot. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, no wireframe is plotted. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>view_angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>, </em><em>optional</em>) – Elevation and azimuthal angles for the Matplotlib plot view. Default is <code class="docutils literal notranslate"><span class="pre">(22,</span> <span class="pre">70)</span></code>.</p></li>
<li><p><strong>figsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><em>tuple</em></a><em>, </em><em>optional</em>) – Figure size for the Matplotlib plot. Default is <code class="docutils literal notranslate"><span class="pre">(7,</span> <span class="pre">4.5)</span></code>.</p></li>
<li><p><strong>text_wrap</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Maximum width of the title text before wrapping. Useful for managing long titles. Default is <code class="docutils literal notranslate"><span class="pre">50</span></code>.</p></li>
<li><p><strong>horizontal</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Horizontal camera position for the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">-1.25</span></code>.</p></li>
<li><p><strong>depth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Depth camera position for the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">1.25</span></code>.</p></li>
<li><p><strong>vertical</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Vertical camera position for the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">1.25</span></code>.</p></li>
<li><p><strong>cbar_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Position of the color bar along the x-axis in the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">1.05</span></code>.</p></li>
<li><p><strong>cbar_thickness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Thickness of the color bar in the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">25</span></code>.</p></li>
<li><p><strong>title_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Horizontal position of the title in the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">0.5</span></code>.</p></li>
<li><p><strong>title_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – Vertical position of the title in the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">0.95</span></code>.</p></li>
<li><p><strong>top_margin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Top margin for the Plotly plot layout. Default is <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p></li>
<li><p><strong>image_path_png</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save the PNG file of the Matplotlib plot. Default is None.</p></li>
<li><p><strong>image_path_svg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Directory path to save the SVG file of the Matplotlib plot. Default is None.</p></li>
<li><p><strong>show_cbar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to display the color bar in the Matplotlib plot. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>grid_resolution</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The resolution of the grid for computing partial dependence. Default is <code class="docutils literal notranslate"><span class="pre">20</span></code>.</p></li>
<li><p><strong>left_margin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Left margin for the Plotly plot layout. Default is <code class="docutils literal notranslate"><span class="pre">20</span></code>.</p></li>
<li><p><strong>right_margin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Right margin for the Plotly plot layout. Default is <code class="docutils literal notranslate"><span class="pre">65</span></code>.</p></li>
<li><p><strong>label_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for axis labels in the Matplotlib plot. Default is <code class="docutils literal notranslate"><span class="pre">8</span></code>.</p></li>
<li><p><strong>tick_fontsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Font size for tick labels in the Matplotlib plot. Default is <code class="docutils literal notranslate"><span class="pre">6</span></code>.</p></li>
<li><p><strong>enable_zoom</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to enable zooming in the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>show_modebar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to display the mode bar in the Plotly plot. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – <ul class="simple">
<li><p>If <cite>plot_type</cite> is not one of <code class="docutils literal notranslate"><span class="pre">&quot;static&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;interactive&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>.</p></li>
<li><p>If <cite>plot_type</cite> is <code class="docutils literal notranslate"><span class="pre">&quot;interactive&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">html_file_path</span></code> or <code class="docutils literal notranslate"><span class="pre">html_file_name</span></code> are not provided.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>
This function generates 3D partial dependence plots and displays or saves them. It does not return any values.</p>
</dd>
<dt class="field-even">Notes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>This function handles warnings related to scikit-learn’s <code class="docutils literal notranslate"><span class="pre">partial_dependence</span></code> function, specifically a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> related to non-tuple sequences for multidimensional indexing. This warning is suppressed as it stems from the internal workings of scikit-learn in Python versions like 3.7.4.</p></li>
<li><p>To maintain compatibility with different versions of scikit-learn, the function attempts to use <code class="docutils literal notranslate"><span class="pre">&quot;values&quot;</span></code> for grid extraction in newer versions and falls back to <code class="docutils literal notranslate"><span class="pre">&quot;grid_values&quot;</span></code> for older versions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<section id="id22">
<h3>3D Plots - CA Housing Example<a class="headerlink" href="#id22" title="Link to this heading"></a></h3>
<p>Consider a scenario where you have a machine learning model predicting median
house values in California.[4]_ Suppose you want to understand how non-location
features like the average number of occupants per household (<code class="docutils literal notranslate"><span class="pre">AveOccup</span></code>) and the
age of the house (<code class="docutils literal notranslate"><span class="pre">HouseAge</span></code>) jointly influence house values. A 3D partial
dependence plot allows you to visualize this relationship in a more comprehensive
manner, providing a detailed view of how these two features interact to affect
the predicted house value.</p>
<p>For instance, the 3D partial dependence plot can help you explore how different
combinations of house age and occupancy levels influence house values. By
visualizing the interaction between AveOccup and HouseAge in a 3D space, you can
uncover complex, non-linear relationships that might not be immediately apparent
in 2D plots.</p>
<p>This type of plot is particularly useful when you need to understand the joint
effect of two features on the target variable, as it provides a more intuitive
and detailed view of how changes in both features impact predictions simultaneously.</p>
<p>Here’s how you can generate and visualize these 3D partial dependence plots
using the California housing dataset:</p>
</section>
<section id="static-plot">
<h3>Static Plot<a class="headerlink" href="#static-plot" title="Link to this heading"></a></h3>
<p><strong>Fetch The CA Housing Dataset and Prepare The DataFrame</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">fetch_california_housing</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Load the dataset</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fetch_california_housing</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Split The Data Into Training and Testing Sets</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">target</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Train a GradientBoostingRegressor Model</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">GradientBoostingRegressor</span><span class="p">(</span>
    <span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">max_depth</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">loss</span><span class="o">=</span><span class="s2">&quot;huber&quot;</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Create Static 3D Partial Dependence Plot</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the plot_3d_pdp function from</span>
<span class="c1"># the eda_toolkit library</span>
<span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">plot_3d_pdp</span>

<span class="c1"># Call the function to generate the plot</span>
<span class="n">plot_3d_pdp</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
    <span class="n">dataframe</span><span class="o">=</span><span class="n">X_test</span><span class="p">,</span>  <span class="c1"># Use the test dataset</span>
    <span class="n">feature_names_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;HouseAge&quot;</span><span class="p">,</span> <span class="s2">&quot;AveOccup&quot;</span><span class="p">],</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;House Age&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Average Occupancy&quot;</span><span class="p">,</span>
    <span class="n">z_label</span><span class="o">=</span><span class="s2">&quot;Partial Dependence&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;3D Partial Dependence Plot of House Age vs. Average Occupancy&quot;</span><span class="p">,</span>
    <span class="n">image_filename</span><span class="o">=</span><span class="s2">&quot;3d_pdp&quot;</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;static&quot;</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
    <span class="n">wireframe_color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">grid_resolution</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="no-click"><a class="reference internal image-reference" href="_images/3d_pdp.svg"><img alt="Scatter Plot Comparisons (Grouped)" class="align-center" src="_images/3d_pdp.svg" style="width: 900px;" />
</a>
</div><div style="height: 50px;"></div></section>
<section id="interactive-plot">
<h3>Interactive Plot<a class="headerlink" href="#interactive-plot" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the plot_3d_pdp function from</span>
<span class="c1"># the eda_toolkit library</span>
<span class="kn">from</span> <span class="nn">eda_toolkit</span> <span class="kn">import</span> <span class="n">plot_3d_pdp</span>

<span class="c1"># Call the function to generate the plot</span>
<span class="n">plot_3d_pdp</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
    <span class="n">dataframe</span><span class="o">=</span><span class="n">X_test</span><span class="p">,</span>  <span class="c1"># Use the test dataset</span>
    <span class="n">feature_names_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;HouseAge&quot;</span><span class="p">,</span> <span class="s2">&quot;AveOccup&quot;</span><span class="p">],</span>
    <span class="n">x_label</span><span class="o">=</span><span class="s2">&quot;House Age&quot;</span><span class="p">,</span>
    <span class="n">y_label</span><span class="o">=</span><span class="s2">&quot;Average Occupancy&quot;</span><span class="p">,</span>
    <span class="n">z_label</span><span class="o">=</span><span class="s2">&quot;Partial Dependence&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;3D Partial Dependence Plot of House Age vs. Average Occupancy&quot;</span><span class="p">,</span>
    <span class="n">html_file_path</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">image_filename</span><span class="o">=</span><span class="s2">&quot;3d_pdp&quot;</span><span class="p">,</span>
    <span class="n">html_file_name</span><span class="o">=</span><span class="s2">&quot;3d_pdp.html&quot;</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s2">&quot;interactive&quot;</span><span class="p">,</span>
    <span class="n">text_wrap</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
    <span class="n">zoom_out_factor</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">image_path_png</span><span class="o">=</span><span class="n">image_path_png</span><span class="p">,</span>
    <span class="n">image_path_svg</span><span class="o">=</span><span class="n">image_path_svg</span><span class="p">,</span>
    <span class="n">grid_resolution</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">label_fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">tick_fontsize</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
    <span class="n">title_x</span><span class="o">=</span><span class="mf">0.38</span><span class="p">,</span>
    <span class="n">top_margin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">right_margin</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
    <span class="n">cbar_x</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">cbar_thickness</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
    <span class="n">show_modebar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">enable_zoom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Scrolling Notice:</strong></p>
<p>While interacting with the interactive Plotly plot below, scrolling down the
page using the mouse wheel may be blocked when the mouse pointer is hovering
over the plot. To continue scrolling, either move the mouse pointer outside
the plot area or use the keyboard arrow keys to navigate down the page.</p>
</div>
<iframe src="3d_pdp.html" style="border:none; width:100%; height:650px; margin-left: 0; padding: 0; overflow: auto;" scrolling="no"></iframe>

<div style="height: 50px;"></div><p>This interactive plot was generated using Plotly, which allows for rich,
interactive visualizations directly in the browser. The plot above is an example
of an interactive 3D Partial Dependence Plot. Here’s how it differs from
generating a static plot using Matplotlib.</p>
<p><strong>Key Differences</strong></p>
<p><strong>Plot Type</strong>:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">plot_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;interactive&quot;</span></code> for the Plotly plot and <code class="docutils literal notranslate"><span class="pre">&quot;static&quot;</span></code> for the Matplotlib plot.</p></li>
</ul>
<p><strong>Interactive-Specific Parameters</strong>:</p>
<ul class="simple">
<li><p><strong>HTML File Path and Name</strong>: The <code class="docutils literal notranslate"><span class="pre">html_file_path</span></code> and <code class="docutils literal notranslate"><span class="pre">html_file_name</span></code> parameters are required to save the interactive Plotly plot as an HTML file. These parameters are not needed for static plots.</p></li>
<li><p><strong>Zoom and Positioning</strong>: The interactive plot includes parameters like <code class="docutils literal notranslate"><span class="pre">zoom_out_factor</span></code>, <code class="docutils literal notranslate"><span class="pre">title_x</span></code>, <code class="docutils literal notranslate"><span class="pre">cbar_x</span></code>, and <code class="docutils literal notranslate"><span class="pre">cbar_thickness</span></code> to control the zoom level, title position, and color bar position in the Plotly plot. These parameters do not affect the static plot.</p></li>
<li><p><strong>Mode Bar and Zoom</strong>: The <code class="docutils literal notranslate"><span class="pre">show_modebar</span></code> and <code class="docutils literal notranslate"><span class="pre">enable_zoom</span></code> parameters are specific to the interactive Plotly plot, allowing you to toggle the visibility of the mode bar and enable or disable zoom functionality.</p></li>
</ul>
<p><strong>Static-Specific Parameters</strong>:</p>
<ul class="simple">
<li><p><strong>Figure Size and Wireframe Color</strong>: The static plot uses parameters like <code class="docutils literal notranslate"><span class="pre">figsize</span></code> to control the size of the Matplotlib plot and <code class="docutils literal notranslate"><span class="pre">wireframe_color</span></code> to define the color of the wireframe in the plot. These parameters are not applicable to the interactive Plotly plot.</p></li>
</ul>
<p>By adjusting these parameters, you can customize the behavior and appearance of your 3D Partial Dependence Plots according to your needs, whether for static or interactive visualization.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id23" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Kohavi, R. (1996). <em>Census Income</em>. UCI Machine Learning Repository. <a class="reference external" href="https://doi.org/10.24432/C5GP7S">https://doi.org/10.24432/C5GP7S</a>.</p>
</aside>
<aside class="footnote brackets" id="id24" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">2</a><span class="fn-bracket">]</span></span>
<p>Waskom, M. (2021). <em>Seaborn: Statistical Data Visualization</em>. <em>Journal of Open Source Software</em>, 6(60), 3021. <a class="reference external" href="https://doi.org/10.21105/joss.03021">https://doi.org/10.21105/joss.03021</a>.</p>
</aside>
<aside class="footnote brackets" id="id25" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">3</a><span class="fn-bracket">]</span></span>
<p>Hunter, J. D. (2007). <em>Matplotlib: A 2D Graphics Environment</em>. <em>Computing in Science &amp; Engineering</em>, 9(3), 90-95. <a class="reference external" href="https://doi.org/10.1109/MCSE.2007.55">https://doi.org/10.1109/MCSE.2007.55</a>.</p>
</aside>
<aside class="footnote brackets" id="id26" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id20">4</a><span class="fn-bracket">]</span></span>
<p>Pace, R. K., &amp; Barry, R. (1997). <em>Sparse Spatial Autoregressions</em>. <em>Statistics &amp; Probability Letters</em>, 33(3), 291-297. <a class="reference external" href="https://doi.org/10.1016/S0167-7152(96)00140-X">https://doi.org/10.1016/S0167-7152(96)00140-X</a>.</p>
</aside>
</aside>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Welcome to the EDA Toolkit Python Library Documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="acknowledgements.html" class="btn btn-neutral float-right" title="Acknowledgements" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Leonid Shpaner, Oscar Gil.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>